{"componentChunkName":"component---src-templates-blog-template-js","path":"/web-jwt/","result":{"data":{"cur":{"id":"1a83c56f-9225-553d-b4f9-032d02d31205","html":"<h2 id=\"들어가며\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가며</h2>\n<p>프로젝트를 진행할 때 JWT를 활용한 인증 방식으로 로그인을 구현한 적이 있다. <br/>\n백엔드 개발자분과 협업을 하며 key값을 맞춰보고, 인증이 완료되었다고 기뻐하던 추억은 선명하지만..  <br/>\nJWT가 무엇인가란 질문에 자신있게 대답할 수 없었다. <br/>\n추억속의 JWT를 꺼내 등장 배경부터 인증 프로세스, 장단점까지 알아보자.</p>\n<h2 id=\"jwt의-등장배경\" style=\"position:relative;\"><a href=\"#jwt%EC%9D%98-%EB%93%B1%EC%9E%A5%EB%B0%B0%EA%B2%BD\" aria-label=\"jwt의 등장배경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT의 등장배경</h2>\n<p>JWT가 무엇이고 어떤 형태로 사용되는지도 중요하지만, 먼저 그 배경을 알아야 어떤 장점과 특징을 가지고 있는지 제대로 이해할 수 있다. 그렇다면 JWT는 어떻게 등장하게 되었을까? 이는 HTTP의 특징과 연관된다.</p>\n<h3 id=\"http의-특징\" style=\"position:relative;\"><a href=\"#http%EC%9D%98-%ED%8A%B9%EC%A7%95\" aria-label=\"http의 특징 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP의 특징</h3>\n<p>HTTP는 <code class=\"language-text\">contactless</code> (클라이언트의 요청이 처리되면 연결이 끊어짐), <code class=\"language-text\">stateless</code> (서버가 클라이언트의 이전 상태를 저장하지 않음)라는 특징을 가지고 있어\n인증이 필요한 페이지에 접근할 경우 서버는 클라이언트가 누구인지 매번 확인해야했다.</p>\n<p>예를 들어 쇼핑몰에서 로그인을 하고 마음에 드는 제품을 장바구니에 담을 때마다 다시 로그인을 하며 내가 회원이라는 걸 알려줘야 했다는 것. 상상만해도 번거롭다. 🤯</p>\n<h3 id=\"-서버기반-인증\" style=\"position:relative;\"><a href=\"#-%EC%84%9C%EB%B2%84%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D\" aria-label=\" 서버기반 인증 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>① 서버기반 인증</h3>\n<p>인증이 필요한 페이지에서 매번 로그인을 해야하는 이러한 불편을 보완하고자 가장 먼저 쿠키와 세션을 활용한 서버기반 인증 방식이 등장했다.</p>\n<h4 id=\"-cookie-쿠키\" style=\"position:relative;\"><a href=\"#-cookie-%EC%BF%A0%ED%82%A4\" aria-label=\" cookie 쿠키 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>❶ cookie (쿠키)</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.555555555555554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAgklEQVQY05WQyQ4EIQhE/f9PbXHBjqO4VQdnTnOyKyEhpHgpMCEEXJeF9x7/Wmu9KpVpvSPnD6wlEBEsEWqtGGNgznkMU6/uGF1O940YeRczI6WEyLwNJ0lVCuwKFBHknOGc32fr+UQOrfUv8G3CUgpYE8UI5xUadq+zKnL8y/FL+ACR9oibDSLiRwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jwt-img-1.png\"\n        title=\"jwt-img-1.png\"\n        src=\"/static/5fa7c6b14b55dbbf20e032fb2de32027/37523/jwt-img-1.png\"\n        srcset=\"/static/5fa7c6b14b55dbbf20e032fb2de32027/e9ff0/jwt-img-1.png 180w,\n/static/5fa7c6b14b55dbbf20e032fb2de32027/f21e7/jwt-img-1.png 360w,\n/static/5fa7c6b14b55dbbf20e032fb2de32027/37523/jwt-img-1.png 720w,\n/static/5fa7c6b14b55dbbf20e032fb2de32027/302a4/jwt-img-1.png 1080w,\n/static/5fa7c6b14b55dbbf20e032fb2de32027/2a08f/jwt-img-1.png 1422w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>아마 쿠키라 한다면 위 화면과 함께 티켓팅, 수강신청 꿀팁 중 하나인 ‘쿠키를 삭제해라’ 를 떠올리는 사람들이 대부분이지 않을까?\n지금껏 아무 생각 없이 쿠키를 삭제하는 작업을 했었지만, 내가 삭제한 쿠키가 정확히 뭘 의미하는지는 몰랐다.</p>\n<p>한 마디로 정리해보자면, 쿠키는 <strong>client가 웹사이트에 접속할 때 그 사이트의 서버를 통해 브라우저에 설치되는 작은 기록 정보 파일</strong>이다. 여기서 ‘작은’이라 칭한 이유는 기록할 수 있는 데이터 용량이 작고 귀여운 4kb이기 때문이다.</p>\n<h4 id=\"쿠키를-활용한-인증-프로세스\" style=\"position:relative;\"><a href=\"#%EC%BF%A0%ED%82%A4%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%9D%B8%EC%A6%9D-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\" aria-label=\"쿠키를 활용한 인증 프로세스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿠키를 활용한 인증 프로세스</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.444444444444446%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABZUlEQVQY04WQv0tCYRiFP9psc2pocW3pLwjScIxqaAsh24wGh7AfW0FTtJkQGEREtLgVNBREbdWQhUkUWaBp1+v1ei+3q6b3ie+LmoIeOBzOcjjvKw6vHtg8umTr+Jqdkxvcdpu3ss1trojjWOh6jVarhaTb7eJ5Hp1OR+VsNksymSSdTpNKpcjn84j+6Q3E0DxiOIEILXKRe6Hltnl+fcc0DWq1Go1GA8uysG1byTAMVRyNRhFC/CoejyMGZpMMzqUYSmzTO7nGea6Aodvc3RcxjCqaVqVSqVAul9E0TalUKtFsNonOzBAIBAgGg/j9/u/Cvsg6IrxEz9gKIrTA2V2B5scnz69VbMvENE217sel5GpJJDKllvl8PuWxWAyxvHvK6Oo+E2sHTG1kKOom9brDU6GiTpbnyQJd15XLLFfKv6a39wiFRhgfHyMcDpPJZBD8icf/eDwWbOqmjet+4LoujuPwBYlQf3B1L09oAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jwt-img-2.png\"\n        title=\"jwt-img-2.png\"\n        src=\"/static/8656cd2d8d487feb6271977a302660c4/37523/jwt-img-2.png\"\n        srcset=\"/static/8656cd2d8d487feb6271977a302660c4/e9ff0/jwt-img-2.png 180w,\n/static/8656cd2d8d487feb6271977a302660c4/f21e7/jwt-img-2.png 360w,\n/static/8656cd2d8d487feb6271977a302660c4/37523/jwt-img-2.png 720w,\n/static/8656cd2d8d487feb6271977a302660c4/302a4/jwt-img-2.png 1080w,\n/static/8656cd2d8d487feb6271977a302660c4/07a9c/jwt-img-2.png 1440w,\n/static/8656cd2d8d487feb6271977a302660c4/24def/jwt-img-2.png 1812w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>Client는 Server에 어떠한 요청을 한다. (ex. 로그인 요청)</li>\n<li>Server는 요청에 대한 응답의 Header의 set-cookie에 Client에 저장하고 싶은 정보를 담아 보낸다.</li>\n<li>Client는 요청을 보낼 때마다 Header의 cookie에 전달받았던 정보를 함께 보낸다.</li>\n<li>Server는 전달받은 cookie의 정보로 Client를 식별한다.</li>\n</ol>\n<h4 id=\"쿠키의-단점\" style=\"position:relative;\"><a href=\"#%EC%BF%A0%ED%82%A4%EC%9D%98-%EB%8B%A8%EC%A0%90\" aria-label=\"쿠키의 단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿠키의 단점</h4>\n<ul>\n<li>보안 취약성 : Header를 통해 그대로 전달되므로 유출될 위험이 높다.</li>\n<li>용량 제한 : 4kb라는 작고 귀여운 용량으로 제한된다.</li>\n<li>브라우저간 공유 불가 : 서로 다른 각 웹 브라우저마다 지원하는 방식이 다르기 때문에 공유가 되지 않는다.</li>\n</ul>\n<h4 id=\"-session\" style=\"position:relative;\"><a href=\"#-session\" aria-label=\" session permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>❷ session</h4>\n<p>세션은 Client의 정보를 Client쪽이 아닌 Server쪽에 저장하고 관리함으로써 보안이 취약한 cookie의 단점을 보완해준다.</p>\n<h4 id=\"세션을-활용한-인증-프로세스\" style=\"position:relative;\"><a href=\"#%EC%84%B8%EC%85%98%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%9D%B8%EC%A6%9D-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\" aria-label=\"세션을 활용한 인증 프로세스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>세션을 활용한 인증 프로세스</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeElEQVQY01WRPWhaURiGzyRax4KLS6VkcugeCGQptJmzdG+gU4dAKBTsliGTbQeLawiCQqFI3SwZSmsgJDVg9V4HEfXe4/3xB8X/n6ecQyjtgYfzcYaH9/2O+HJl8PXa5POPKuWmpNEcUjXa9HyXbrfLbDZjsVgwn8/1PJ1OmUwmrNdrSqUS+XyeQqGgGQwGCLF3gniWQOy/YefVR35VXWqmhZQWtpQ4jqPp9Xr4vo/neSyXSyzLIhwOI4T4SzqdRojnCR4ffeDB4SmPXia5qUjMuoXjSGxbIqXUEpVos9mwWq1QR6UPBoNEIhGi0agWJpNJhDh4x5PXn3j44kwLb39LDKOthZZl0+l0cF2X8XisGY1GegXqPRQKEYvFiMfj/wh3jxFP36Kqx47eU655mHUb33e1qN/va1RdtSOFSquEgUDgv8qpVApxcXlH9nuF829lfhotWp0hjaZzL/T0J6iqSqJQldW93W4pFotkMhlyuRzZbFYH+APjkG8F7R19LgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jwt-img-3.png\"\n        title=\"jwt-img-3.png\"\n        src=\"/static/ff93782170c0f9a50a9ccc709ef7e745/37523/jwt-img-3.png\"\n        srcset=\"/static/ff93782170c0f9a50a9ccc709ef7e745/e9ff0/jwt-img-3.png 180w,\n/static/ff93782170c0f9a50a9ccc709ef7e745/f21e7/jwt-img-3.png 360w,\n/static/ff93782170c0f9a50a9ccc709ef7e745/37523/jwt-img-3.png 720w,\n/static/ff93782170c0f9a50a9ccc709ef7e745/302a4/jwt-img-3.png 1080w,\n/static/ff93782170c0f9a50a9ccc709ef7e745/07a9c/jwt-img-3.png 1440w,\n/static/ff93782170c0f9a50a9ccc709ef7e745/166a3/jwt-img-3.png 1980w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>Client는 Server에 어떠한 요청을 한다. (ex. 로그인 요청)</li>\n<li>Server는 메모리에 session Id를 기준으로 session을 생성하고, 정보를 저장한다.</li>\n<li>Server는 Client의 요청에 대한 응답으로 session Id를 전달한다.</li>\n<li>Client는 Server에 요청을 할 때마다 cookie에 session Id를 함께 전달한다.</li>\n<li>Server는 전달받은 cookie의 session 정보와 이전에 발급해 전달했던 session 정보를 비교한다.</li>\n<li>Server는 인가 성공/실패 여부를 Client에게 전달한다.</li>\n</ol>\n<h4 id=\"세션의-단점\" style=\"position:relative;\"><a href=\"#%EC%84%B8%EC%85%98%EC%9D%98-%EB%8B%A8%EC%A0%90\" aria-label=\"세션의 단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>세션의 단점</h4>\n<ul>\n<li>서버 부하 : Server에 세션을 저장하는 저장소가 필요하고, 저장소에 데이터 정보 조회 요청을 계속 보내야하므로 서버에 부담이 된다.</li>\n<li>stateful : Server가 정보를 계속 기억하므로 HTTP의 특징인 stateless에 위배된다.</li>\n<li>토큰 기반 인증, JWT의 등장</li>\n</ul>\n<h3 id=\"-토큰-기반-인증\" style=\"position:relative;\"><a href=\"#-%ED%86%A0%ED%81%B0-%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D\" aria-label=\" 토큰 기반 인증 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>② 토큰 기반 인증</h3>\n<p>앞서 언급한 서버의 부담, stateless 위배라는 서버기반 인증의 약점을 보완하기위해 토큰 기반 인증이 등장했다. <br/>\n토큰 기반 인증은</p>\n<ol>\n<li>인증받은 Client에게 Server가 토큰을 부여하고</li>\n<li>인증이 필요한 요청의 HTTP Header에 이 토큰을 담아 보내면</li>\n<li>토큰을 기준으로 Server가 Client를 식별하는 방식이다.</li>\n</ol>\n<h4 id=\"jwt-json-web-token\" style=\"position:relative;\"><a href=\"#jwt-json-web-token\" aria-label=\"jwt json web token permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT (JSON Web Token)</h4>\n<p>인증에 필요한 정보들을 암호화시킨 토큰을 뜻한다. <br/>\nJWT 기반 인증 방식이란 Client가 Server에게 요청을 보낼 때 HTTP의 Header에 이전에 Server로부터 발급받은 JWT를 담아 보내고, 이를 기반으로 Server가 Client를 식별하는 방식을 뜻한다.</p>\n<h2 id=\"jwt의-구조\" style=\"position:relative;\"><a href=\"#jwt%EC%9D%98-%EA%B5%AC%EC%A1%B0\" aria-label=\"jwt의 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT의 구조</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">XXXXXX.YYYYYY.ZZZZZZ\n// Header(헤더).Payload(내용).Signature(서명)</code></pre></div>\n<p>JWT는 <code class=\"language-text\">.</code>로 구분된 세 문자열인 Header, Payload, Signature로 이루어져있다. <br/>\n각각의 구조를 더 딥하게 알아보자.</p>\n<h3 id=\"-header\" style=\"position:relative;\"><a href=\"#-header\" aria-label=\" header permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>① Header</h3>\n<p>signature를 암호화하는 알고리즘과 토큰의 유형을 포함한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 디코딩된 형태</span>\n<span class=\"token punctuation\">{</span>\n<span class=\"token string-property property\">\"alg\"</span> <span class=\"token operator\">:</span> <span class=\"token operator\">...</span> <span class=\"token punctuation\">,</span> <span class=\"token comment\">//서명 암호화 알고리즘</span>\n<span class=\"token string-property property\">\"typ\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"JWT\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//토큰 유형</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"-payload\" style=\"position:relative;\"><a href=\"#-payload\" aria-label=\" payload permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>② Payload</h3>\n<p>서버와 클라이언트가 주고받는 시스템 속에서 실제로 사용될 정보</p>\n<blockquote>\n<p>claim : key-value 형식의 정보 한 쌍</p>\n</blockquote>\n<ul>\n<li><code class=\"language-text\">Registered claims</code> : 미리 정의된 클레임 ex. iss(발행자), exp(만료시간), iat(발생시간) 등</li>\n<li><code class=\"language-text\">Public claims</code> : 공개용 정보 전달을 위한 클레임 (사용자가 정의가능)</li>\n<li><code class=\"language-text\">Private claims</code> : 당사자들간 정보 공유용 사용자 지정 클레임</li>\n</ul>\n<h3 id=\"-signature\" style=\"position:relative;\"><a href=\"#-signature\" aria-label=\" signature permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>③ Signature</h3>\n<p>header의 인코딩 값 + payload의 인코딩 값 + 서버의 key값 을 header에서 정의한 알고리즘으로 암호화한 것. <br/>\n이 때 서버의 key값이 유출되지 않는 이상 복호화할 수 없다.</p>\n<h2 id=\"jwt를-이용한-인증-process\" style=\"position:relative;\"><a href=\"#jwt%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%9D%B8%EC%A6%9D-process\" aria-label=\"jwt를 이용한 인증 process permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT를 이용한 인증 Process</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB50lEQVQoz1WRv2sTcRjGX4UsWZIhU/4AQcgfIO2isYYS4y2ZghjcxGxaEJrGX4NbURFJCImY0kERjWRy6mAHcXAwLVrbmsb2cnffS3LXcJdLSEJ45P3WBnzg5YXv8Pk+z/PSp2/7yK1v4Mm7Taysb+Drrooj1cGPX4cwhQ7TNOF5Hvr9Pnq9HlzXheM4YFUqFSSTSaTTaaRSKdTrddD8vVegubugxRzowh2kVt9D1/rY2VVhWR2YZhudTkeCbdvGYDCQH7Ci0SiIaDb5fB60kFsDXcnijPIIdHkZN59/hCkYeAhNa6HVakkYDztjp6PRSAIVRZEgn88nd7lcBl1cfo2zymOcv/0StHgfN55WYQoP37f20Ww20GgcwDAMCCEknN1ydFY8HkcwGEQkEpHAYrEIupStgK4+xLlbLyQw/ax6EnmvhWO7K0EclWNyf5PJBMPhUAITiYQEhUIhuUulEii6sgZayIKunUS+vvoBnuNBN9qwbWvWHUdl0OmBWLFY7L8OC4XCP4fzS6D4A9DcknQoDBc7e0cwDA2WZcnu2B3DeE4jZzIZ+P1+hMNhBAIB1Go10NYfgbeb26h++Yk3n7fRNI+hGS5+H+jodtsQwpTd8XU57ng8nh2F31RVhaZp0HUd0+kUfwGZ19zITIMz3QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jwt-img-4.png\"\n        title=\"jwt-img-4.png\"\n        src=\"/static/556ca1d679401db651d14fbfa86a3c84/37523/jwt-img-4.png\"\n        srcset=\"/static/556ca1d679401db651d14fbfa86a3c84/e9ff0/jwt-img-4.png 180w,\n/static/556ca1d679401db651d14fbfa86a3c84/f21e7/jwt-img-4.png 360w,\n/static/556ca1d679401db651d14fbfa86a3c84/37523/jwt-img-4.png 720w,\n/static/556ca1d679401db651d14fbfa86a3c84/302a4/jwt-img-4.png 1080w,\n/static/556ca1d679401db651d14fbfa86a3c84/07a9c/jwt-img-4.png 1440w,\n/static/556ca1d679401db651d14fbfa86a3c84/f238d/jwt-img-4.png 2078w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ol>\n<li>Client가 Server에 요청을 보낸다. (ex. 로그인 인증 요청)</li>\n<li>Server는 Header, Payload, Signature를 정의하고 각각 암호화해 JWT를 생성한다.</li>\n<li>Server는 생성한 JWT를 cookie에 담아 Client에게 발급한다.</li>\n<li>Client는 JWT를 저장하고, 이후 인증이 필요한 요청마다 Authorization Header에 Access token을 담아 보냄</li>\n<li>Server는 발행했던 token과 Client로부터 받은 token의 일치여부를 확인한다 (인증).</li>\n<li>token이 서로 일치하면 payload의 정보를 Client에게 전달한다.</li>\n<li>Access token이 만료될 경우, Client는 refresh token을 Server에 보낸다.</li>\n<li>Server는 새로운 Access token을 발급해 Client에 전달한다.</li>\n</ol>\n<h2 id=\"jwt의-장점\" style=\"position:relative;\"><a href=\"#jwt%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"jwt의 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT의 장점</h2>\n<p>Header와 Payload로 signature를 생성하기 때문에 데이터가 위,변조되었을 때 더 쉽게 판별할 수 있다. <br/>\nSession과 달리 아래의 특징을 가지고 있다.</p>\n<ul>\n<li>별도 저장소가 불필요하다.</li>\n<li>서버를 stateless로 유지할 수 있다.</li>\n<li>정보를 자체적으로 보유할 수 있어 요청할 때마다 DB조회를 하지않아도 된다.</li>\n<li>모바일 환경에서도 잘 동작한다.</li>\n</ul>\n<h2 id=\"jwt의-단점\" style=\"position:relative;\"><a href=\"#jwt%EC%9D%98-%EB%8B%A8%EC%A0%90\" aria-label=\"jwt의 단점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JWT의 단점</h2>\n<ul>\n<li>token의 길이가 길어 인증 요청이 많아질수록 네트워크 부하 위험이 있다. (DB 성능면에선 이득이지만)</li>\n<li>token은 탈취당할 경우 대처하기가 어렵다.</li>\n<li>token의 만료시간을 설정해두었을 경우, 그 전에 강제로 만료시키기 어렵다.</li>\n<li>payload의 내용은 암호화가 되지않아, Server와 Client간에 나누는 내용에 중요한 정보 (ex. 고객 개인정보)를 담을 수는 없다.</li>\n</ul>\n<h2 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h2>\n<p>cookie,Session 인증 방식과 JWT 인증 방식을 비교해보면 아래와 같다. <br/>\n각각의 방법에 따라 네트워크 / 서버에 상대적으로 부하를 주는 비중이 달라지게되니, 환경에 따라 취사선택하면 좋을 듯 싶다.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>인증 방식</th>\n<th>장점</th>\n<th>단점</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Cookie<br/>Session</td>\n<td>서버 기반</td>\n<td>네트워크 부담 낮음</td>\n<td>Session 저장소가 필요해 <br/>서버 부하 위험</td>\n</tr>\n<tr>\n<td>JWT 인증 방식</td>\n<td>토큰 기반</td>\n<td>별도의 저장소가 필요치않고 <br/>DB조회를 하지않아도 되므로 서버 부담 낮음</td>\n<td>토큰 길이가 길어질수록 <br/>네트워크 부하 위험</td>\n</tr>\n</tbody>\n</table>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">들어가며</a></p>\n</li>\n<li>\n<p><a href=\"#jwt%EC%9D%98-%EB%93%B1%EC%9E%A5%EB%B0%B0%EA%B2%BD\">JWT의 등장배경</a></p>\n<ul>\n<li>\n<p><a href=\"#http%EC%9D%98-%ED%8A%B9%EC%A7%95\">HTTP의 특징</a></p>\n</li>\n<li>\n<p><a href=\"#-%EC%84%9C%EB%B2%84%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D\">① 서버기반 인증</a></p>\n<ul>\n<li><a href=\"#-cookie-%EC%BF%A0%ED%82%A4\">❶ cookie (쿠키)</a></li>\n<li><a href=\"#%EC%BF%A0%ED%82%A4%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%9D%B8%EC%A6%9D-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\">쿠키를 활용한 인증 프로세스</a></li>\n<li><a href=\"#%EC%BF%A0%ED%82%A4%EC%9D%98-%EB%8B%A8%EC%A0%90\">쿠키의 단점</a></li>\n<li><a href=\"#-session\">❷ session</a></li>\n<li><a href=\"#%EC%84%B8%EC%85%98%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%EC%9D%B8%EC%A6%9D-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4\">세션을 활용한 인증 프로세스</a></li>\n<li><a href=\"#%EC%84%B8%EC%85%98%EC%9D%98-%EB%8B%A8%EC%A0%90\">세션의 단점</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%ED%86%A0%ED%81%B0-%EA%B8%B0%EB%B0%98-%EC%9D%B8%EC%A6%9D\">② 토큰 기반 인증</a></p>\n<ul>\n<li><a href=\"#jwt-json-web-token\">JWT (JSON Web Token)</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#jwt%EC%9D%98-%EA%B5%AC%EC%A1%B0\">JWT의 구조</a></p>\n<ul>\n<li><a href=\"#-header\">① Header</a></li>\n<li><a href=\"#-payload\">② Payload</a></li>\n<li><a href=\"#-signature\">③ Signature</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#jwt%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EC%9D%B8%EC%A6%9D-process\">JWT를 이용한 인증 Process</a></p>\n</li>\n<li>\n<p><a href=\"#jwt%EC%9D%98-%EC%9E%A5%EC%A0%90\">JWT의 장점</a></p>\n</li>\n<li>\n<p><a href=\"#jwt%EC%9D%98-%EB%8B%A8%EC%A0%90\">JWT의 단점</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%A0%95%EB%A6%AC\">정리</a></p>\n</li>\n</ul>\n</div>","excerpt":"들어가며 프로젝트를 진행할 때 JWT를 활용한 인증 방식으로 로그인을 구현한 적이 있다. \n백엔드 개발자분과 협업을 하며 key값을 맞춰보고, 인증이 완료되었다고 기뻐하던 추억은 선명하지만..  \nJWT가 무엇인가란 질문에 자신있게 대답할 수 없었다. \n추억속의 JW…","frontmatter":{"date":"June 19, 2022","title":"JWT(JSON Web Token), 등장 배경부터 인증 방식까지","categories":"Web","author":"Bomdong","emoji":"🔐"},"fields":{"slug":"/web-jwt/"}},"next":{"id":"e435c966-5300-5679-bc48-e42c1e267458","html":"<h2 id=\"들어가며\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가며</h2>\n<p>최근 작은 부분부터 팀문화를 개선하는 데에 관심이 생겼고, 1순위로 눈에 들어온 건 Commit Convention이였다.\nCommit Convention을 정하고, 앞으로도 계속 지켜나가기 위해 소소한 시스템을 구축한 이야기를 적어보는 글.</p>\n<h3 id=\"문제점\" style=\"position:relative;\"><a href=\"#%EB%AC%B8%EC%A0%9C%EC%A0%90\" aria-label=\"문제점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>문제점</h3>\n<ol>\n<li>팀원별로 commit style이 통일되지 않았다.\n(각자 다른 기준으로 정해진 commit Header를 사용했고, 첫글자를 대문자로/소문자로 작성하는지도 차이가 있었다.)</li>\n<li>commit convention을 정하는 것보다 꾸준히, 혼선없이 지키는 게 어렵다.</li>\n</ol>\n<h3 id=\"해결방안\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0%EB%B0%A9%EC%95%88\" aria-label=\"해결방안 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결방안</h3>\n<ol>\n<li>commit의 목적별로 Header를 정해 commit만 봐도 어떤 작업인지 예상가도록 하자.</li>\n<li>commitizen을 이용해 Header 입력을 반자동화하고, 상세 작업만 직접 작성하는 시스템을 구축해보자.\n(commitizen은 팀원분과 이야기를 해보다가 힌트를 얻었다.)</li>\n</ol>\n<h3 id=\"commit-convention-정하기\" style=\"position:relative;\"><a href=\"#commit-convention-%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"commit convention 정하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Commit Convention 정하기</h3>\n<p>금방 끝날거라 생각했지만 생각보다 세세한 범위까지 협의하며 꽤 시간이 걸렸던 convention 정하기.\n몇 가지 경우만 예를 들어보자면,</p>\n<p>👤 : 기능 추가는 Feat이라고 하자. <br/>\n👥 :  기능의 범위가 무엇인가? (함수만? UI, UX 관련도 포함하는가? CSS는 포함하는가?)</p>\n<p>👤 : 코드 수정은 Modify를 사용하자 <br/>\n👥  : 코드 수정의 범위는 어디서부터 어디까지인가? 코드 삭제도 Modify의 범주에 들어가는가? <br/>\n👥 : 단순 오타수정과 기능 수정을 동일한 Header에 둘 것인가?</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 225px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUDAf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAA//aAAwDAQACEAMQAAABt46SDS6HPksmqI//xAAaEAACAwEBAAAAAAAAAAAAAAABAgADERIh/9oACAEBAAEFAnbkJZplq9Imq0I0P7bP/8QAFxEAAwEAAAAAAAAAAAAAAAAAARARAv/aAAgBAwEBPwHMiC//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAbEAABBAMAAAAAAAAAAAAAAAARAAEQIQISQf/aAAgBAQAGPwJCKVkQHTYc2j//xAAcEAACAgIDAAAAAAAAAAAAAAABEQAhEDFBUXH/2gAIAQEAAT8htlEtMEQQBF3qX2+658gLDgCAYMJl0Y//2gAMAwEAAgADAAAAELMIPP/EABgRAAIDAAAAAAAAAAAAAAAAAAEQETFB/9oACAEDAQE/EAKGqy//xAAWEQADAAAAAAAAAAAAAAAAAAABESD/2gAIAQIBAT8QLj//xAAcEAEBAAIDAQEAAAAAAAAAAAABEQAhEDFBYXH/2gAIAQEAAT8QluxZb1kZ0u/x64XJz6j25BBLvXXyvMAB0lwsAoj7ijDVppnH/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"commitizen-img-1.jpeg\"\n        title=\"commitizen-img-1.jpeg\"\n        src=\"/static/fcc70893ce7549692d34d832789a4bc7/863e1/commitizen-img-1.jpg\"\n        srcset=\"/static/fcc70893ce7549692d34d832789a4bc7/4ec73/commitizen-img-1.jpg 180w,\n/static/fcc70893ce7549692d34d832789a4bc7/863e1/commitizen-img-1.jpg 225w\"\n        sizes=\"(max-width: 225px) 100vw, 225px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>쉽지않네</em></p>\n<p>예상했던 것보다 더 깊게 수정할 코드의 범위를 세분화하고(함수, UI, package 관련 등)\n특정 예외케이스를 고려해(단순 오타 수정, 프로덕션 코드에 영향이 없는 포맷팅 수정 등) 협의를 마칠 수 있었다.</p>\n<h2 id=\"commitizen으로-commit-convention-지키기\" style=\"position:relative;\"><a href=\"#commitizen%EC%9C%BC%EB%A1%9C-commit-convention-%EC%A7%80%ED%82%A4%EA%B8%B0\" aria-label=\"commitizen으로 commit convention 지키기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Commitizen으로 Commit Convention 지키기</h2>\n<p><code class=\"language-text\">Commitizen</code>은 일정한 commit message를 작성하기 위한 라이브러리로,\n아래 사진처럼 commit Header를 간단하게 선택하고 이후 관련된 Scope, Description, Issues 등을 입력하는 형태로 commit을 작성할 수 있다.\n(Header앞의 귀여운 emoji는 덤✨)</p>\n<p><code class=\"language-text\">cz-customizable</code> 라이브러리는 Commitizen에 적용될 commiting rule을 커스텀할 수 있도록 도와주는 라이브러리로, Commitizen + cz-customizable 조합을 통해 손쉽게 commit convention을 관리할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 672px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVQoz3VSyXKCUBDkN9yRpQRRnyCbrILEIpuVQ0655P+/olM9KayYSg5Tb5h5r6e7By1NU7Rti6qqUJYl+L3f76GUwm63QxAE2Gw28DxPauzNZjPM5/M/QysrF+ezg6oq0TQNfN+/e8xYrVZyebFYSPwG+TlAW7srKLXFer2GZVnChqBkFoYhbNvGZDLBeDzGaDSSfDqd3mIAG05N+QHyrECe58IwjmNkWXaTTzuOxyOKopCcvSRJ4LouTNPEcrm8l+wpB3nfwgm/vQseHnFozkifXuF3PaIkRXg4CCBtoApd1yUGMLInc7LUMl/h8/0NW7WXZt/3wuJ6veJ0OuFyuUiNbCmf/jqOI9aQJXPWGPRXs2MXzx8vqItamgTpuk5AuHnmdV2LBbSEA2gLe1EUyXCCcXEC6CUmutcQBz+CZZlykQBkRJkEor98zEXx5AIJQtmD3JtkSzdhLQyYlin+GIZxFzSedV4eNvnf78OlfAF5qRK0APtNogAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"commitizen-img-2.png\"\n        title=\"commitizen-img-2.png\"\n        src=\"/static/cad93ea6508f608de753e3af5917e388/30d16/commitizen-img-2.png\"\n        srcset=\"/static/cad93ea6508f608de753e3af5917e388/e9ff0/commitizen-img-2.png 180w,\n/static/cad93ea6508f608de753e3af5917e388/f21e7/commitizen-img-2.png 360w,\n/static/cad93ea6508f608de753e3af5917e388/30d16/commitizen-img-2.png 672w\"\n        sizes=\"(max-width: 672px) 100vw, 672px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"1-commitizen-cz-customizable-설치\" style=\"position:relative;\"><a href=\"#1-commitizen-cz-customizable-%EC%84%A4%EC%B9%98\" aria-label=\"1 commitizen cz customizable 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Commitizen, cz-customizable 설치</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">$ npm install --save-dev commitizen cz-customizable\n//using yarn\n$ yarn add -D commitizen cz-customizable</code></pre></div>\n<h3 id=\"2-packagejson의-config에-commitizen-config-추가하기\" style=\"position:relative;\"><a href=\"#2-packagejson%EC%9D%98-config%EC%97%90-commitizen-config-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"2 packagejson의 config에 commitizen config 추가하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. package.json의 config에 commitizen config 추가하기</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">{\n  ....\n  \"devDependencies\": {\n    ...,\n  },\n  \"config\": {\n    \"commitizen\": {\n      \"path\": \"cz-customizable\"\n    }\n  }\n}</code></pre></div>\n<h3 id=\"3-root-경로에-cz-configjs-파일-생성-및-내용-입력하기\" style=\"position:relative;\"><a href=\"#3-root-%EA%B2%BD%EB%A1%9C%EC%97%90-cz-configjs-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EB%82%B4%EC%9A%A9-%EC%9E%85%EB%A0%A5%ED%95%98%EA%B8%B0\" aria-label=\"3 root 경로에 cz configjs 파일 생성 및 내용 입력하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. root 경로에 cz-config.js 파일 생성 및 내용 입력하기</h3>\n<p>아래의 형식대로 CLI를 커스텀하기 위한 내용을 입력해준다. <br/>\n객체의 <code class=\"language-text\">value</code>는 commit Header, <code class=\"language-text\">name</code>은 각각의 Header에 대한 설명이라고 생각하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">module.exports = {\n\n    types: [\n        { value: '✨ Feat', name: '✨ Feat:\\tAdd a new feature' },\n        { value: '🐛 Modify', name: '🐛 Fix:\\tModify production, UI,UX code' },\n        { value: '📝 Docs', name: '📝 Docs:\\tAdd or update documentation' },\n        {\n          value: '💄 Style',\n          name: '💄 Style:\\tAdd or update code format (not updation production, UI,UX code)',\n        },\n        { value: '🤖 Refactor',\n          name: '🤖 Refactor:\\tCode change that neither fixes a bug nor adds a feature',\n        },\n        {\n          value: '✅ Test',\n          name: '✅ Test:\\tCode change related with tests cases',\n        },\n        {\n          value: '🚚 Chore',\n          name: '🚚 Chore:\\tChanges to the build process or auxiliary tools\\n\\t\\tand libraries such as documentation generation',\n        },\n    ],\n    allowCustomScopes: false,\n    allowBreakingChanges: ['feat', 'fix'],\n    skipQuestions: ['body'],\n    subjectLimit: 100,\n};</code></pre></div>\n<h3 id=\"4-packagejson-파일에-commitizen을-실행할-수-있는-script-추가하기\" style=\"position:relative;\"><a href=\"#4-packagejson-%ED%8C%8C%EC%9D%BC%EC%97%90-commitizen%EC%9D%84-%EC%8B%A4%ED%96%89%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-script-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"4 packagejson 파일에 commitizen을 실행할 수 있는 script 추가하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. package.json 파일에 commitizen을 실행할 수 있는 script 추가하기</h3>\n<p>key값은 commitizen을 실행할 수 있는 명령어로, 아래처럼 입력할 경우 <code class=\"language-text\">yarn commit</code>을 작성하면 commitizen을 실행시킬 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">{\n  \"scripts\": {\n    ...,\n    \"commit”: \"cz\"  //yarn commit으로 실행하도록 custom\n  },\n\n  \"dependencies\": {\n    ...\n  }\n}</code></pre></div>\n<h3 id=\"5-실행하기\" style=\"position:relative;\"><a href=\"#5-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0\" aria-label=\"5 실행하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 실행하기</h3>\n<p>파일 변경 후 이전과 동일하게 <code class=\"language-text\">git add .</code> 후, 이전 단계에서 추가한 실행 script (예시 기준으로 <code class=\"language-text\">yarn commit</code>)를 입력하면 commitizen이 실행된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">$ git add .\n\n//using npm\n$ npm run commit\n\n//using yarn\n$ yarn commit</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 672px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVQoz3VSyXKCUBDkN9yRpQRRnyCbrILEIpuVQ0655P+/olM9KayYSg5Tb5h5r6e7By1NU7Rti6qqUJYl+L3f76GUwm63QxAE2Gw28DxPauzNZjPM5/M/QysrF+ezg6oq0TQNfN+/e8xYrVZyebFYSPwG+TlAW7srKLXFer2GZVnChqBkFoYhbNvGZDLBeDzGaDSSfDqd3mIAG05N+QHyrECe58IwjmNkWXaTTzuOxyOKopCcvSRJ4LouTNPEcrm8l+wpB3nfwgm/vQseHnFozkifXuF3PaIkRXg4CCBtoApd1yUGMLInc7LUMl/h8/0NW7WXZt/3wuJ6veJ0OuFyuUiNbCmf/jqOI9aQJXPWGPRXs2MXzx8vqItamgTpuk5AuHnmdV2LBbSEA2gLe1EUyXCCcXEC6CUmutcQBz+CZZlykQBkRJkEor98zEXx5AIJQtmD3JtkSzdhLQyYlin+GIZxFzSedV4eNvnf78OlfAF5qRK0APtNogAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"commitizen-img-2.png\"\n        title=\"commitizen-img-2.png\"\n        src=\"/static/cad93ea6508f608de753e3af5917e388/30d16/commitizen-img-2.png\"\n        srcset=\"/static/cad93ea6508f608de753e3af5917e388/e9ff0/commitizen-img-2.png 180w,\n/static/cad93ea6508f608de753e3af5917e388/f21e7/commitizen-img-2.png 360w,\n/static/cad93ea6508f608de753e3af5917e388/30d16/commitizen-img-2.png 672w\"\n        sizes=\"(max-width: 672px) 100vw, 672px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n<em>실행 화면</em></p>\n<p>commitizen이 실행되면 방향키, 엔터를 통해 commit Header를 선택한다.</p>\n<br/>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 662px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACI0lEQVQoz11T2ZKiQBDkN1ZARQER5ejmsLlUFNwYZzRG2f//ldyomsGJ3YeMImgqqcrM1i6XBvd7h+v1De/v72iaBlJKxHEMIQTSNEUsYqzXa2w2G1iWBdM0MZ1OMZ2O9Qdami6h1BxCxNwchiGCIEAURUy43W5h2zYmkwnDMAwmHEnN/6B53gZRJLnRdV2egqYjJEkC3/cxm80wn895OsLCWsCaz75IDeMfaHEq0dQ16rpG13WoqwplWaI9HqF2O5xOJ1RVhbqu+LkuFUSeYBkKmJYFfb2F7rjQVz4m3gaaLHI8Hg8mG4YBt9sNn8OAz+eA5/AHbdvy+kVZIhISUsQIRQQvivHLMDBZ2DCWNgzbgWG70Ow0Q/r7A7LtUNyfSNsO9f0JcbkiP/XYvd1Q3B5Qbzdk5wuSJEVZFCiUYnk814Wh65ia3yvPFgs4jvPSz/O8F5bLJVarFetI51TpHelIPfS9u1qxUaNBWl3mSBLJ7pIRVIWU7DTFh4whwyg65DohCAP+jqJEzpNpo+ua2qUcGW6KBcLwJy5U5Tc56Ug/pEpn2yB4Eb4mNE1ogRSoyhJVVSNLE5RFjrKqOJP7/R6Hw4FBTp/PZw7+qW3hZwrO2sfa81iOkVTLsgx93+N0PuPj44pL33KE+r5j51WhUBQFlFI4Ho8swXhrSFPSmvR8EQa+g6apkec5R2R/OPDNoAZadbxqNMV4Q6hZ13WuI8aV/wJoFXEKMY8iNgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"commitizen-img-3.png\"\n        title=\"commitizen-img-3.png\"\n        src=\"/static/740a36671e99140cd74db6b917b177ad/be86f/commitizen-img-3.png\"\n        srcset=\"/static/740a36671e99140cd74db6b917b177ad/e9ff0/commitizen-img-3.png 180w,\n/static/740a36671e99140cd74db6b917b177ad/f21e7/commitizen-img-3.png 360w,\n/static/740a36671e99140cd74db6b917b177ad/be86f/commitizen-img-3.png 662w\"\n        sizes=\"(max-width: 662px) 100vw, 662px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Header를 선택하면 순차적으로 해당 commit에 관련된 Scope, Description, Issues를 입력하기위한 질문이 보여진다.\n(현재 팀에선 Description만 입력하고 있어서 다른 사항은 생략한 채로 입력했다.)</p>\n<p>입력을 마치면 작성한 commit 미리보기와 함께 확인 질문이 보여지고, 마지막 확인까지 마치면 commit 완료!</p>\n<p>상세 설명을 보면서 commit Header를 선택하고, 이어지는 질문에 응답하는 형식으로 commit message를 작성한 뒤 최종확인까지 할 수 있어 순간적인 오기나 Header의 대소문자 혼선 등을 방지할 수 있는 툴이라는 생각이 든다.</p>\n<h2 id=\"참고-자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\" aria-label=\"참고 자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고 자료</h2>\n<p><a target=\"_blank\" href=\"https://blog.dnd.ac/github-commitzen-template/\">git commitizen의 사용방법 및 template에 대해서 알아보기</a> <br/>\n<a target=\"_blank\" href=\"https://www.npmjs.com/package/commitizen\">commitizen-npm</a> <br/>\n<a target=\"_blank\" href=\"https://dev.to/sohandutta/make-everyone-in-your-project-write-beautiful-commit-messages-using-commitlint-and-commitizen-1amn\">Make everyone in your project write beautiful commit messages using commitlint and commitizen 🚀</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">들어가며</a></p>\n<ul>\n<li><a href=\"#%EB%AC%B8%EC%A0%9C%EC%A0%90\">문제점</a></li>\n<li><a href=\"#%ED%95%B4%EA%B2%B0%EB%B0%A9%EC%95%88\">해결방안</a></li>\n<li><a href=\"#commit-convention-%EC%A0%95%ED%95%98%EA%B8%B0\">Commit Convention 정하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#commitizen%EC%9C%BC%EB%A1%9C-commit-convention-%EC%A7%80%ED%82%A4%EA%B8%B0\">Commitizen으로 Commit Convention 지키기</a></p>\n<ul>\n<li><a href=\"#1-commitizen-cz-customizable-%EC%84%A4%EC%B9%98\">1. Commitizen, cz-customizable 설치</a></li>\n<li><a href=\"#2-packagejson%EC%9D%98-config%EC%97%90-commitizen-config-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">2. package.json의 config에 commitizen config 추가하기</a></li>\n<li><a href=\"#3-root-%EA%B2%BD%EB%A1%9C%EC%97%90-cz-configjs-%ED%8C%8C%EC%9D%BC-%EC%83%9D%EC%84%B1-%EB%B0%8F-%EB%82%B4%EC%9A%A9-%EC%9E%85%EB%A0%A5%ED%95%98%EA%B8%B0\">3. root 경로에 cz-config.js 파일 생성 및 내용 입력하기</a></li>\n<li><a href=\"#4-packagejson-%ED%8C%8C%EC%9D%BC%EC%97%90-commitizen%EC%9D%84-%EC%8B%A4%ED%96%89%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-script-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">4. package.json 파일에 commitizen을 실행할 수 있는 script 추가하기</a></li>\n<li><a href=\"#5-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0\">5. 실행하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\">참고 자료</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"May 30, 2022","title":"commitizen으로 보다 쉽게 commit convention 지키기","categories":"Git","author":"Bomdong","emoji":"📉"},"fields":{"slug":"/git-commitizen/"}},"prev":{"id":"7de0cd3b-8b15-5e85-bef3-5752eb2b0d41","html":"<h2 id=\"들어가며\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가며</h2>\n<p>우리는 종종 숫자를 count하는 애니메이션을 접하게된다.\n예를 들어 게임 화면에서 유저가 획득한 포인트를 보여줄 때, 할인된 가격을 안내할 때, D-day까지 남은 일수를 보여줄 때 등등 숫자값을 강조해야하는 상황에서 자주 사용된다.</p>\n<p>그럼 이 애니메이션은 어떻게 구현해야할까?\n단순한 count 애니메이션을 생각하고 setInterval로 금방 구현하겠네!하며 호기롭게 접근했다가\ncount 속도를 조절하는 방법이 까다로워 혼쭐이 나 그 여정을 기록해보고자 한다.\n해당 기능은 재사용성을 고려해 custom Hook으로 구현했다.</p>\n<h2 id=\"1-setinterval-함수로-애니메이션-구현\" style=\"position:relative;\"><a href=\"#1-setinterval-%ED%95%A8%EC%88%98%EB%A1%9C-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EA%B5%AC%ED%98%84\" aria-label=\"1 setinterval 함수로 애니메이션 구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. setInterval 함수로 애니메이션 구현</h2>\n<p>우선 단순히 숫자를 count하는 애니메이션부터 구현해보자.\n숫자를 카운트하는 애니메이션은 일정 기간동안 특정 작업을 반복 실행하는 setInterval 함수로 구현할 수 있다.</p>\n<p>setInterval 함수의 구조 및 사용예시는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//구조</span>\n<span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>반복 실행할 함수<span class=\"token punctuation\">,</span> 함수를 반복 실행할 <span class=\"token function\">기간</span><span class=\"token punctuation\">(</span>ms<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//사용예시</span>\n<span class=\"token keyword\">const</span> useInterval <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">,</span> 300ms<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n<span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>useInterval<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이를 이용해 우선 동일한 속도로 숫자를 count하는 custom hook인 <code class=\"language-text\">useCountUp</code>을 구현해보자.</p>\n<h3 id=\"구현-코드\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%ED%98%84-%EC%BD%94%EB%93%9C\" aria-label=\"구현 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구현 코드</h3>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">/** count up 함수 */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useCountUp</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>num<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> duration<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> frameRate <span class=\"token operator\">=</span> <span class=\"token number\">1000</span> <span class=\"token operator\">/</span> <span class=\"token number\">60</span>\n  <span class=\"token keyword\">const</span> totalFrame <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>duration <span class=\"token operator\">/</span> frameRate<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// useEffect로 mount되는 순간 한 번 실행</span>\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> currentNumber <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    \n<span class=\"token comment\">// setInterval로 setCount</span>\n    <span class=\"token keyword\">const</span> counter <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> progressRate <span class=\"token operator\">=</span> <span class=\"token operator\">++</span>currentNumber <span class=\"token operator\">/</span> totalFrame\n      <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>num <span class=\"token operator\">*</span> progressRate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 진행 완료시 interval 해제</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>progressRate <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>counter<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> frameRate<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> \n\n<span class=\"token comment\">// setInterval함수에서 세팅한 count return</span>\n  <span class=\"token keyword\">return</span> count\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>주석으로 각 단계를 적어두긴 했지만 좀더 자세하게 알아보면,</p>\n<p>1️⃣ custom hook <code class=\"language-text\">useCountUp</code>을 선언하고, useEffect로 mount되는 초기에 1번 실행되도록 한다. <br/></p>\n<p>2️⃣ useEffect의 내부에 setInterval 함수 <code class=\"language-text\">counter</code>를 선언한다.</p>\n<p>첫 번째 인자인 <strong>반복실행시킬 함수</strong>는 (1) count를 증가시키고\n(2) 진행이 완료되면 clearInterval 함수를 호출하는 함수,\n두 번째 인자인 <strong>반복 기간</strong>에는 <code class=\"language-text\">frameRate(1000ms / 60frame, 즉 16.6ms)</code>를 전달해준다.</p>\n<p>3️⃣ useCountUp은 setInterval 함수에서 증가시켰던 <code class=\"language-text\">count</code>를 return한다.</p>\n<blockquote>\n<p>이 때 애니메이션이 적용되는 숫자 부분에 width값을 주지 않으면 다른 글자들이 좌우로 떨리는 현상이 일어난다.</p>\n</blockquote>\n<h3 id=\"결과-화면\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EA%B3%BC-%ED%99%94%EB%A9%B4\" aria-label=\"결과 화면 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결과 화면</h3>\n<p><img src=\"/0b8e007cdfd8f48072570d8371b46f78/count-img-2.gif\" alt=\"count-img-2.gif\"></p>\n<p>일정한 속도로 증가하다가 목표값에 도달하면 멈추는 형태의 count 애니메이션을 구현했다.\n이것만으로도 큰 부족함은 없지만, 조금 더 생동감을 주기 위해 증가 속도를 조절해보자.</p>\n<h2 id=\"2-easeoutexpo로-count-속도-조절하기\" style=\"position:relative;\"><a href=\"#2-easeoutexpo%EB%A1%9C-count-%EC%86%8D%EB%8F%84-%EC%A1%B0%EC%A0%88%ED%95%98%EA%B8%B0\" aria-label=\"2 easeoutexpo로 count 속도 조절하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. easeOutExpo로 Count 속도 조절하기</h2>\n<p>애니메이션 속도를 조절하기 위해서 시간 흐름에 따라 변화율을 변경할 수 있는 Easing 함수를 이용했다.\n아래처럼 다양한 종류가 있고, 그래프는 시간에 따른 변화율을 나타낸다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBElEQVQ4y12Uh5KkMAxE+f8/nZ2AgxzkQF+1DMztUkUZm0bSU2Cbc2LMCSnZ1qoNIoIxBuY8IKrQprY/jmPpxvils/NKXcOmqni/3+A65gEXM1proKM9VkguGL3j0mVzTF2xs0sXU0HvfRmkp1qrGcopIaVkYq5JBKVWXLqSC1pT03F/6UQicinYGDKvVJeHUtRe8vk4ANGKqmp7XlkrWu/IpZrBr26lZmNUn8/HUPo4EFLFGH2hiCLVlT/Vhn3fEWlkTISkt84lRcyKOQY2ooYQUEoxZEZ3oUgUSIz2jnvqcs7opy7GeKcixvAbmSiskqSMGIKh0HssBVXrjVz+09HBVcCl02WQXlNOaGMi63LAVkg6URrbZ1jeSCNJ0Dp189bxmd8dx8RGnJ+fHzPaWjevvInycR7Be0OmscfjgSTJoqXGe2/R7i7Au6Xb7urVhZJzMeFCGYglW9v8RY6S4Jwz3TEHfE7I9cwhLaeSoZ0T074obSEfc36Rz9SkP8ipDW5WlV+vF9SiGHdjM6KPi4hhVZI3U8OqM4gYxapsbecinPOo9URmlYhh4/XZLRKej96wS0Rh0xON0ZwTRac0wm+IzBnPVw6d94g5QduaZebuqrLoidz66jcRHACcrHG8dKGuub5/DhZ+H2eTrtF77cEqzYiZ5+fzeWJ2uPAdAOq8X8PxD3ASkb7WnhauAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"count-img-3.png\"\n        title=\"count-img-3.png\"\n        src=\"/static/134e76bf2bf64a95c1ef9c69417b9e1a/37523/count-img-3.png\"\n        srcset=\"/static/134e76bf2bf64a95c1ef9c69417b9e1a/e9ff0/count-img-3.png 180w,\n/static/134e76bf2bf64a95c1ef9c69417b9e1a/f21e7/count-img-3.png 360w,\n/static/134e76bf2bf64a95c1ef9c69417b9e1a/37523/count-img-3.png 720w,\n/static/134e76bf2bf64a95c1ef9c69417b9e1a/620ae/count-img-3.png 1043w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>이 많은 선택지 중 사용할 함수는 easeOutExpo !</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 264px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.44444444444443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYUlEQVQoz6WRT4vCMBDF8/0/hhfxKmpRqVGUCnrxoCJV7ME/u7VUo62JJjOTxbrrrqAL7v54h8mEx7xMmM0gop/FbrebTCYAcG0KIWazGSLae5gQwnVd3/c9zxsOh6PRqNlsttvtxWLhOI6UknNeqVT6/X4QBOPxuNvt+r7f6/XiOGbz+TyXy1Wr1UKh0Gg08vl8qVTyPG86nTqO02q1OOf1et113U6nUy6Xi8Ui57xWqwVBwABgnyEy0jRNkkQptVyutNZhGEophRBRFCml1uv1YDBAxM1mY4xh9jfo7nC/FyJilIFIWYuUxvSExzMdFAqJQsJB4fX25rnVTGdYa5Wm8IBxitvjRXuF6YmOZ0pPhPQ42MVMhFLTageA9iWYMQaR3gUAXlN9yX7rqRnB7C9vw6vztckA5m3/cuBPszzpKAH7J9g2OccpPMuMiMaYp+aD1EelAcwzsu94vAxm/8EH3zZdsywX23YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"count-img-4.png\"\n        title=\"count-img-4.png\"\n        src=\"/static/a9b51f5668e26f1c255a1e94f1aebab5/e61aa/count-img-4.png\"\n        srcset=\"/static/a9b51f5668e26f1c255a1e94f1aebab5/e9ff0/count-img-4.png 180w,\n/static/a9b51f5668e26f1c255a1e94f1aebab5/e61aa/count-img-4.png 264w\"\n        sizes=\"(max-width: 264px) 100vw, 264px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>위 그래프에서 t는 시간, x는 움직임 시작인 0부터 움직임 끝인 1 사이의 진척률을 뜻한다. <br/>\n코드로 나타내면 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">easeOutExpo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">x</span><span class=\"token operator\">:</span> number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> number <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">return</span> x <span class=\"token operator\">===</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token operator\">-</span> <span class=\"token function\">pow</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token operator\">*</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"구현-코드-1\" style=\"position:relative;\"><a href=\"#%EA%B5%AC%ED%98%84-%EC%BD%94%EB%93%9C-1\" aria-label=\"구현 코드 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>구현 코드</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">/** 진행률에 따라 count 속도 조절 */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">easeOutExpo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">t</span><span class=\"token operator\">:</span> number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> t <span class=\"token operator\">===</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span> <span class=\"token operator\">-</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">pow</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span> <span class=\"token operator\">*</span> t<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/** 점차 느려지는 count up 함수 */</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">useCountUp</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">num</span><span class=\"token operator\">:</span> number<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">,</span> setCount<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> frameRate <span class=\"token operator\">=</span> <span class=\"token number\">1000</span> <span class=\"token operator\">/</span> <span class=\"token number\">60</span>\n  <span class=\"token keyword\">const</span> totalFrame <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>duration <span class=\"token operator\">/</span> frameRate<span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> currentNumber <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">const</span> counter <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> progressRate <span class=\"token operator\">=</span> <span class=\"token function\">easeOutExpo</span><span class=\"token punctuation\">(</span><span class=\"token operator\">++</span>currentNumber <span class=\"token operator\">/</span> totalFrame<span class=\"token punctuation\">)</span>\n      <span class=\"token function\">setCount</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">round</span><span class=\"token punctuation\">(</span>num <span class=\"token operator\">*</span> progressRate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n      <span class=\"token comment\">// 진행 완료시 interval 해제</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>progressRate <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>counter<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> frameRate<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> count\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>최상단에 추가된 easeOutExpo 함수에 의해 애니메이션 속도는 점차 줄어들게 된다. <br/>\neaseOutExpo 함수의 매개변수는 진척률을 나타내기 때문에 <code class=\"language-text\">useCountUp</code>에서 진척률로 정의해둔 변수 <code class=\"language-text\">progressRate</code>을 전달해준다.</p>\n<h3 id=\"결과-화면-1\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EA%B3%BC-%ED%99%94%EB%A9%B4-1\" aria-label=\"결과 화면 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결과 화면</h3>\n<p><img src=\"/63d99ab8b914845fb7b7032b6f0982b5/count-img-1.gif\" alt=\"count-img-1.gif\"></p>\n<p>setInterval로 기본 count 애니메이션을 구현하되 속도는 easing 함수를 활용하는 것이 핵심이였다.\n두 함수를 사용할 때뿐만 아니라 이후 다른 easing 함수를 사용하더라도 제대로 이해하고 있어야하는 개념은 진척률.</p>\n<p>결국 모든 애니메이션은 움직임의 시작인 0 부터 끝인 1까지의 진척률에 따라 그 속도를 조절할 수 있다는 걸 명심하자.</p>\n<h3 id=\"참고-자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\" aria-label=\"참고 자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고 자료</h3>\n<a target=\"_blank\" href=\"https://shylog.com/react-custom-hooks-scroll-animation-countup/\">\nReact Custom Hooks로 scroll animation 만들기 CountUp편</a> <br/>\n<a target=\"_blank\" href=\"https://velog.io/@y_jem/react-%EC%8A%AC%EB%A1%AF-%EC%B9%B4%EC%9A%B4%ED%8A%B8-%EA%B8%B0%EB%8A%A5\">\n[react] 슬롯 카운트 기능 구현 (라이브러리 x)</a> <br/>\n<a target=\"_blank\" href=\"https://easings.net/ko#\">Easing 함수 치트</a> <br/>\n<a target=\"_blank\" href=\"https://developer.mozilla.org/en-US/docs/Web/Performance/Animation_performance_and_frame_rate\">\nAnimation performance and frame rate</a>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">들어가며</a></p>\n</li>\n<li>\n<p><a href=\"#1-setinterval-%ED%95%A8%EC%88%98%EB%A1%9C-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EA%B5%AC%ED%98%84\">1. setInterval 함수로 애니메이션 구현</a></p>\n<ul>\n<li><a href=\"#%EA%B5%AC%ED%98%84-%EC%BD%94%EB%93%9C\">구현 코드</a></li>\n<li><a href=\"#%EA%B2%B0%EA%B3%BC-%ED%99%94%EB%A9%B4\">결과 화면</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-easeoutexpo%EB%A1%9C-count-%EC%86%8D%EB%8F%84-%EC%A1%B0%EC%A0%88%ED%95%98%EA%B8%B0\">2. easeOutExpo로 Count 속도 조절하기</a></p>\n<ul>\n<li><a href=\"#%EA%B5%AC%ED%98%84-%EC%BD%94%EB%93%9C-1\">구현 코드</a></li>\n<li><a href=\"#%EA%B2%B0%EA%B3%BC-%ED%99%94%EB%A9%B4-1\">결과 화면</a></li>\n<li><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\">참고 자료</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"July 18, 2022","title":"점차 느려지는 Count 애니메이션 구현하기","categories":"React","author":"Bomdong","emoji":"📉"},"fields":{"slug":"/react-count-animation/"}},"site":{"siteMetadata":{"siteUrl":"https://dev-bomdong.github.io","comments":{"utterances":{"repo":"dev-bomdong/dev-bomdong.github.io"}}}}},"pageContext":{"slug":"/web-jwt/","nextSlug":"/git-commitizen/","prevSlug":"/react-count-animation/"}},"staticQueryHashes":["1073350324","2009502679","2938748437"],"slicesMap":{}}
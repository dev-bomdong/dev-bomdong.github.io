{"componentChunkName":"component---src-templates-blog-template-js","path":"/journal-after-restructuring/","result":{"data":{"cur":{"id":"d588a739-9cbe-57ad-95bb-c09058733000","html":"<h2 id=\"들어가며\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가며</h2>\n<p>준비 없이 갑작스레 맞닥뜨린 구조조정 이후 어느새 3개월이란 시간이 흘렀다.</p>\n<p>사내 구성원 중 30% 정도가 퇴직 절차를 밟게 되었고, 그 외에도 조직 구조에 크고 작은 변화가 생기게 되었다.\n그 변화는 내게 좀 더 직접적으로 작용했다. 애정을 가지고 함께 키워나가던 신규서비스팀에서 다른 서비스팀으로 이동하게 된 것.</p>\n<p>하루아침에 다루는 서비스와 협업하는 인원이 바뀐 상황이 당황스럽기도 했고, 개인적으로 가까이 지내던 분들이 대부분 퇴사하시게 되며 회사생활의 의욕도 다소 떨어졌다.</p>\n<blockquote>\n<p>물론 회사는 일을 하는 곳이지만, 좋은 동료도 이 회사의 복지다라고 생각하며 주변 분들과 즐겁게 회사 생활을 했던 터라 심리적 타격이 있었다.</p>\n</blockquote>\n<p>부정적인 감정에 마냥 잠식되어 버리기 전 우선 지금 내가 할 수 있는 것에 집중하자라는 생각을 하며 서서히 변화를 받아들여갔다. 그렇게 묵묵히 눈 앞에 닥친 것들을 해결해 나가다보니 시간이 흘렀고,\n이렇게 관련된 생각을 글로 적어볼 수 있을 정도로 상황을 객관적으로 바라볼 수 있게 되었다.</p>\n<h2 id=\"달라진-것들\" style=\"position:relative;\"><a href=\"#%EB%8B%AC%EB%9D%BC%EC%A7%84-%EA%B2%83%EB%93%A4\" aria-label=\"달라진 것들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>달라진 것들</h2>\n<h3 id=\"신규-서비스에서-legacy-베이스의-서비스로\" style=\"position:relative;\"><a href=\"#%EC%8B%A0%EA%B7%9C-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%97%90%EC%84%9C-legacy-%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%9D%98-%EC%84%9C%EB%B9%84%EC%8A%A4%EB%A1%9C\" aria-label=\"신규 서비스에서 legacy 베이스의 서비스로 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>신규 서비스에서 legacy 베이스의 서비스로</h3>\n<p>현재 회사는 비교적 가벼운 신규 서비스 시설관리툴과 메인 서비스 인력관리툴, 이렇게 두 서비스를 운영하고 있다.\n런칭 2개월차에 합류해 여러 기능을 붙여가던 신규서비스의 개발이 잠정 중단되고,\n프론트팀 인원이 정리되면서 메인 서비스팀으로 이동하게 되었다.</p>\n<p>인력관리라는 개념이 워낙 방대하기에 해당 서비스는 기능의 범위가 방대하고 JSP 96%, React 4% 정도의 스택으로 이루어져있다.</p>\n<h3 id=\"스쿼드-체제-도입\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%EC%BF%BC%EB%93%9C-%EC%B2%B4%EC%A0%9C-%EB%8F%84%EC%9E%85\" aria-label=\"스쿼드 체제 도입 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스쿼드 체제 도입</h3>\n<p>이전에 소속되어 있던 팀은 독립적으로 신규 서비스를 운영 해나가는 소규모팀이었던지라 팀원들끼리 스프린트, 스크럼을 진행했는데\n현재 서비스팀은 인원이 많아 기능별 스쿼드로 나뉘게 되었다.</p>\n<blockquote>\n<p>구조조정 후 이제 막 도입된지라 아직 우당탕탕하는 면이 있고, 개발 인력에 비해 스쿼드의 수가 많아 동시에 소속되는 동료도 있는 등 아직 매주 조금씩 변동되며 구축되고 있다.</p>\n</blockquote>\n<p>나는 서비스 기능 중에서도 가장 코어이자 legacy인 <code class=\"language-text\">출퇴근</code>, 그리고 <code class=\"language-text\">근무지 관리</code> 기능을 주로 담당하는 스쿼드에 배정되었다.\n그렇게 새로운 기획자, 서버 개발자와 합을 맞추게 되었고\n이전엔 협업할 일이 없던 앱 개발자와도 한 스쿼드에서 함께 일하게 되었다.</p>\n<h2 id=\"얻은-것들\" style=\"position:relative;\"><a href=\"#%EC%96%BB%EC%9D%80-%EA%B2%83%EB%93%A4\" aria-label=\"얻은 것들 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>얻은 것들</h2>\n<h3 id=\"마냥-두렵지만은-않은-legacy\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%83%A5-%EB%91%90%EB%A0%B5%EC%A7%80%EB%A7%8C%EC%9D%80-%EC%95%8A%EC%9D%80-legacy\" aria-label=\"마냥 두렵지만은 않은 legacy permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마냥 두렵지만은 않은 legacy</h3>\n<p>전체 프로젝트의 95%가 JSP로 이루어져 있지만 신규 개발은 React로 진행하고 있어 실제 업무는 모던 스택인 React로 하고있다.</p>\n<p>프론트 기술은 빠른 속도로 변화하고 있고 그 속도를 따라가기 위해 신규 개발을 모두 멈추고 마이그레이션에만 집중하는 것도 쉽지않다.\n이건 대부분의 회사에서 가지고 있을 고민이라 생각하므로 legacy 스택이라 해서 무조건 거부감을 갖는 것보다 <code class=\"language-text\">어떻게하면 마냥 멈춰있지않고 바퀴를 잘 갈아 끼울 수 있을까</code> 를 팀원들과 함께 고민하고 있다.</p>\n<p>JSP에서 운영되고 있는 기능을 토대로 살을 붙이거나 개선해 React로 마이그레이션하는 것도 처음 해보는 경험이니 이 과정에서 JSP 화면에서 modal부터 React로 바꿔나가기 위해 window 객체를 활용해 메세지를 주고받는 등 두 스택을 버무리며 비즈니스 임팩을 낼 수 있는 방법을 배워나가는 중.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 564px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 126.11111111111113%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEAf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHTKyDhZp1ibQr/xAAcEAEAAgIDAQAAAAAAAAAAAAABAgMSIQAQERT/2gAIAQEAAQUCgDKxSzkLtyfZfRveTFRoye//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAcEAADAAEFAAAAAAAAAAAAAAAAAREQAiAhMpH/2gAIAQEABj8C5JoVUxJhplR28K3s/8QAHBABAAMBAAMBAAAAAAAAAAAAAQARITEQQVFh/9oACAEBAAE/IahxEwtW/YXRfYmb1p3kYFLouAPQuQQqamMBt1BXa39h2Hj/2gAMAwEAAgADAAAAELfogP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABcRAQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QYiv/xAAeEAEAAwACAgMAAAAAAAAAAAABABEhQVEQMWFx8P/aAAgBAQABPxAEqVvP2Q5SAU9rBy51Shf3BBNVGmO63eLgVBoWq+CVKDXYqyjYviTy1cMUQQT1pvHtqJwuIyHE9nieif/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image_1.jpeg\"\n        title=\"image_1.jpeg\"\n        src=\"/static/f2433484fa76d4b304b59e246de598ec/7723c/image_1.jpg\"\n        srcset=\"/static/f2433484fa76d4b304b59e246de598ec/4ec73/image_1.jpg 180w,\n/static/f2433484fa76d4b304b59e246de598ec/158ba/image_1.jpg 360w,\n/static/f2433484fa76d4b304b59e246de598ec/7723c/image_1.jpg 564w\"\n        sizes=\"(max-width: 564px) 100vw, 564px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"새로운-동료들과-익숙하지-않은-기능을-다뤄나가는-경험\" style=\"position:relative;\"><a href=\"#%EC%83%88%EB%A1%9C%EC%9A%B4-%EB%8F%99%EB%A3%8C%EB%93%A4%EA%B3%BC-%EC%9D%B5%EC%88%99%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%80-%EA%B8%B0%EB%8A%A5%EC%9D%84-%EB%8B%A4%EB%A4%84%EB%82%98%EA%B0%80%EB%8A%94-%EA%B2%BD%ED%97%98\" aria-label=\"새로운 동료들과 익숙하지 않은 기능을 다뤄나가는 경험 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>새로운 동료들과 익숙하지 않은 기능을 다뤄나가는 경험</h3>\n<p>다루게 된 서비스의 기능이 워낙 큰데 히스토리를 아는 사람도 없다 보니 서비스 전반을 두루두루 다루는 것보단 특정 기능에 집중하는 스쿼드 체제가 부담을 덜어주었다.</p>\n<p>매일 아침 데일리 스크럼을 하며 각자의 진행상황을 파악하고, 이때 기능과 관련된 작은 물음표도 모두 풀어낸다.\n같은 기능을 다루더라도 앱 개발자는 어떻게 처리하는지 아는 것도 꽤나 도움이 되더라.\n(특히 지도를 다룰 때 안드로이드팀의 도움을 받기도 했다.)</p>\n<p>또 스프린트가 끝나면 스쿼드 회고도 진행해 action item을 도입하고 있다.\n(스쿼드 일부 구성원끼리 구두로 협의한 사항은 슬랙 채널에 기록하기, API schema 회의하기 등)</p>\n<p>이렇게 <strong>새로운 동료들과 스쿼드 안에서 합을 맞춰나가며 배우는</strong> 점들도 많고,\n익숙하지 않은 기능을 개선해 나가는 경험도 소중한 챌린지라고 생각한다.</p>\n<h3 id=\"새로운-기술-챌린지\" style=\"position:relative;\"><a href=\"#%EC%83%88%EB%A1%9C%EC%9A%B4-%EA%B8%B0%EC%88%A0-%EC%B1%8C%EB%A6%B0%EC%A7%80\" aria-label=\"새로운 기술 챌린지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>새로운 기술 챌린지</h3>\n<p>table을 주로 다루던 이전의 시설관리툴과는 성격이 다른 인력관리 서비스를 다루게 된 터라 기술적으로도 다루는 범위도 좀더 다양해졌다.</p>\n<p>그중 한 예가 지도인데.. 출퇴근, 근무지 관리 기능엔 지도가 필수적이므로 최근 몇 주 동안은 지도와의 싸움을 하고 있다.</p>\n<p>특정 조건에 따라 naverMap과 googleMap을 분기처리해 함께 사용하면서 제공 기능은 같아야 하니 적절하게 커스텀 기능들도 넣어주고, 공식문서를 참고해 hook도 만들어보고 <del>(naverMap 공식문서는 왜 jQuery 뿐인가요..)</del> , 이 와중에 재사용성도 놓칠 수 없으니 컴포넌트화도 신경쓰고 등등..</p>\n<p>머리 아프긴 하지만 처음 해보다 보니 재미도 있고 업무의 범위가 좀 더 다양해짐에 감사하며 열심히 싸우고 있다(?)</p>\n<h2 id=\"마치며\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\" aria-label=\"마치며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치며</h2>\n<p>최근 읽은 숫자사회라는 책에서 <code class=\"language-text\">수처작주 입처개진(隨處作主 立處皆眞)</code> 이란 말을 보았는데,\n<strong>어디든 머무르는 곳마다 주인이 되면, 서 있는 그곳이 곧 참되리라</strong> 라는 뜻이었다.\n이 글을 쓰려고 마음먹었을 때 가장 먼저 떠올랐던 말.</p>\n<p>물론 현 상황이 마냥 천국 같다는 건 아니다. 업무 환경과 커리어 관련으로 깊게 가지고 있는 고민은 여전히 존재한다. 다만 3개월간 지켜본 결과 어떤 상황에서든 마음먹기에 따라 배울 것이 있다는 건 확실하다.</p>\n<p>이 사실을 기억하고 또 기억하기. 그리고 <strong>현재에 감사하며 성실하게, 긍정적으로 일상을 꾸려나가기</strong></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">들어가며</a></p>\n</li>\n<li>\n<p><a href=\"#%EB%8B%AC%EB%9D%BC%EC%A7%84-%EA%B2%83%EB%93%A4\">달라진 것들</a></p>\n<ul>\n<li><a href=\"#%EC%8B%A0%EA%B7%9C-%EC%84%9C%EB%B9%84%EC%8A%A4%EC%97%90%EC%84%9C-legacy-%EB%B2%A0%EC%9D%B4%EC%8A%A4%EC%9D%98-%EC%84%9C%EB%B9%84%EC%8A%A4%EB%A1%9C\">신규 서비스에서 legacy 베이스의 서비스로</a></li>\n<li><a href=\"#%EC%8A%A4%EC%BF%BC%EB%93%9C-%EC%B2%B4%EC%A0%9C-%EB%8F%84%EC%9E%85\">스쿼드 체제 도입</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%96%BB%EC%9D%80-%EA%B2%83%EB%93%A4\">얻은 것들</a></p>\n<ul>\n<li><a href=\"#%EB%A7%88%EB%83%A5-%EB%91%90%EB%A0%B5%EC%A7%80%EB%A7%8C%EC%9D%80-%EC%95%8A%EC%9D%80-legacy\">마냥 두렵지만은 않은 legacy</a></li>\n<li><a href=\"#%EC%83%88%EB%A1%9C%EC%9A%B4-%EB%8F%99%EB%A3%8C%EB%93%A4%EA%B3%BC-%EC%9D%B5%EC%88%99%ED%95%98%EC%A7%80-%EC%95%8A%EC%9D%80-%EA%B8%B0%EB%8A%A5%EC%9D%84-%EB%8B%A4%EB%A4%84%EB%82%98%EA%B0%80%EB%8A%94-%EA%B2%BD%ED%97%98\">새로운 동료들과 익숙하지 않은 기능을 다뤄나가는 경험</a></li>\n<li><a href=\"#%EC%83%88%EB%A1%9C%EC%9A%B4-%EA%B8%B0%EC%88%A0-%EC%B1%8C%EB%A6%B0%EC%A7%80\">새로운 기술 챌린지</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B0\">마치며</a></p>\n</li>\n</ul>\n</div>","excerpt":"들어가며 준비 없이 갑작스레 맞닥뜨린 구조조정 이후 어느새 3개월이란 시간이 흘렀다. 사내 구성원 중 30% 정도가 퇴직 절차를 밟게 되었고, 그 외에도 조직 구조에 크고 작은 변화가 생기게 되었다.\n그 변화는 내게 좀 더 직접적으로 작용했다. 애정을 가지고 함께 키…","frontmatter":{"date":"December 10, 2023","title":"구조조정 3개월 후의 단상","categories":"회고록","author":"Bomdong","emoji":"💭"},"fields":{"slug":"/journal-after-restructuring/"}},"next":{"id":"4029f894-ad21-57c3-8a4f-62bbc84c5026","html":"<h2 id=\"들어가며\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가며</h2>\n<p>사이드 프로젝트 결과물을 vercel에 배포하려는데,\norganization 내부의 팀 repository는 vercel에 배포할 때 과금이 되어 내 개인 계정으로 fork하고 그 repo를 vercel에 올렸다.\n그러다보니 팀 repo에 변경사항이 생길 때마다 fork한 내 개인 repo도 fetch해야해서 참으로 번거로웠다.</p>\n<blockquote>\n<p>수익성있는 팀 프로젝트는 과금되는 플랜을 사용해야 하지만,\nFrontend &#x26; Server repo를 묶어두려 organization을 만든거고 말 그대로 hobby project이긴 하니까요..😇</p>\n</blockquote>\n<p>fork한 repo에서 fetch하는 작업을 github action으로 해결할 수 있지 않을까싶어 기웃거리다 자동화에 성공했다. 누군가가 (혹은 미래의 내가 또) 비슷한 고민을 할 수 있다고 생각되어 방법을 정리해보는 글.</p>\n<p>편의상 organization repository를 <code class=\"language-text\">팀 repo</code>로, 이를 fork한 개인 계정의 repository를 <code class=\"language-text\">개인 repo</code>로 표기했다.</p>\n<h2 id=\"환경-변수-설정\" style=\"position:relative;\"><a href=\"#%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98-%EC%84%A4%EC%A0%95\" aria-label=\"환경 변수 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>환경 변수 설정</h2>\n<p>본격적으로 action을 설정하기 전, 우선 workflow script에서 환경 변수를 설정해야 한다. <br/>\naction에서 사용할 환경 변수는 팀 repo의 Settings > Secrets and variables > Actions 에서 설정한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 90.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAADB0lEQVQ4y2WUS2/jNhSF9eO762pWXbS7/oECfWEwQAsUaFdFi6KYTDKxndiWrSclkqJI6mF9AzJRxmkvcE1bJI/vOfceJbrrEE3DOI4swGUJn3C5LOR5QZblFEXJ+ZyR5XnMw/HI6XRmeT67RviVWOcYhuH1xrLEVErRti1SStpW0kqFUhohGkTTMs0z8zwxTyPzPIaLJFIqaiHiQa11BFgB98czu33Kx+2e9zcf2O127B8f47rdbLi7u+PDZs/tLuNml9G5iUTrLtIoyypmqDiAzfPMPmt5v824P5TsTxWbY8U2FfH55iioRIvSBql7tHFcFkh6azF9T9AyfF8pXy4XhKjJs+wpi4qqURR1Sykkx3NBJRpqUVNUZVyddyRSqSh6K2UEudZx9/DI7d1HttsH7u83bLdbNpsNh8OBqizphcaKjr7WLGaM9xJ1pdt1Q0L4YcA5H+kPw8g0zZ//dJz57eZ3fvznHW///YXv/v6Zv27/JGmalqqqX8CuQa21scPjOCGVjusaXnV88+u3fPn2K968+5ovfnrD93/8EChryrKMc3gNNl/RXyPMZqgy7E29h/8fIalFw+mcxQ6vdNZK60bysE85nnL26RnV9dhhorce2xiKumF/ykjzgjQv6b0nKas6usEYE7VaKwyYzg/orkfpLmZvHW4YsbrHSoOxLj7XnYl74zSTeD8wPNN9Re/Fghf63uKco4sXLV3ZoJWOMxv2Qq7MIuXQmFBhdIqUL1b8r1djzBeWoN9q3it9I2CYwzzPqWsRG+O9Z5qeutn1lkZqZHBDZ3DjhGsNzgTqE86PUYI1I+VQYZqe4nDnRRE9vVJtheTwmJKlOUVWRiB7Ejg3MEwzfpzwATjoGqWbSJTqOBxP8U0i1ZPA1nkGN2CLBl01yLymycqYIs3xskMbgzF9lMcEJq1inCaS0Nkw2F3XvXqvLfMFrwx2HOidwzhLP3ic94yhy85HFwWQ4KjQoICVhEENbgjd+zwyS2gzJqtpTwXimFE/p8nrCHhdYRiZRqqo/SfaJWRZvv9IlwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image01.png\"\n        title=\"image01.png\"\n        src=\"/static/58c915ff0938c278102756a99a14e3fc/37523/image01.png\"\n        srcset=\"/static/58c915ff0938c278102756a99a14e3fc/e9ff0/image01.png 180w,\n/static/58c915ff0938c278102756a99a14e3fc/f21e7/image01.png 360w,\n/static/58c915ff0938c278102756a99a14e3fc/37523/image01.png 720w,\n/static/58c915ff0938c278102756a99a14e3fc/302a4/image01.png 1080w,\n/static/58c915ff0938c278102756a99a14e3fc/07a9c/image01.png 1440w,\n/static/58c915ff0938c278102756a99a14e3fc/21cdd/image01.png 1680w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>위의 New repository secret 버튼을 클릭하면 환경 변수를 설정하는 페이지로 넘어가는데, 작성을 완료하면 아래의 Repository secrets에서 확인할 수 있다.</p>\n<p>설정해야 할 환경 변수는 아래 두 개로, 환경 변수명은 변경해도 상관없다.</p>\n<ol>\n<li>\n<p><code class=\"language-text\">DEPLOY_EMAIL_ACCOUNT</code> : <strong>fork한 개인 계정 email 주소</strong></p>\n</li>\n<li>\n<p><code class=\"language-text\">DEPLOY_EMAIL_TOKEN</code> : <strong>fork한 개인 계정 token</strong> <br/>(Settings > Developer Settings > Personal access tokens에서 발급할 수 있다.)</p>\n</li>\n</ol>\n<h2 id=\"github-action-설정하기\" style=\"position:relative;\"><a href=\"#github-action-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\" aria-label=\"github action 설정하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>github action 설정하기</h2>\n<p>이제 팀 repo에 action을 설정할 차례.</p>\n<p>팀 repo의 root directory에 <code class=\"language-text\">.githun/workflows</code> 폴더를 만들고, yml 파일을 생성한다.</p>\n<p>파일에는 아래와 같이 workflow를 작성해주면 되는데,\n<a href=\"https://cpina.github.io/push-to-another-repository-docs/\">push-to-another-repository-docs</a> 플러그인을 기반으로 <strong>main 브랜치에 어떤 commit이 push되면 또다른 repository에도 push</strong>하는 작업을 수행한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> update a forked repository\n\n<span class=\"token comment\"># main branch에 push하면 실행</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>main<span class=\"token punctuation\">]</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">container</span><span class=\"token punctuation\">:</span> pandoc/latex\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v4\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> ruby와 mustache를 설치하고 있어요\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          apk add ruby\n          gem install mustache</span>\n\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> output을 생성하고 있어요\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> sh ./build.sh\n\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> 설정한 repository에 push하고 있어요\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> push_directory\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> cpina/github<span class=\"token punctuation\">-</span>action<span class=\"token punctuation\">-</span>push<span class=\"token punctuation\">-</span>to<span class=\"token punctuation\">-</span>another<span class=\"token punctuation\">-</span>repository@main\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n          <span class=\"token comment\"># 개인 계정 token</span>\n          <span class=\"token key atrule\">API_TOKEN_GITHUB</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.DEPLOY_EMAIL_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token comment\"># GitHub Action will push files from</span>\n          <span class=\"token key atrule\">source-directory</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'output'</span>\n          <span class=\"token comment\"># 개인 계정 user/repository name</span>\n          <span class=\"token key atrule\">destination-github-username</span><span class=\"token punctuation\">:</span> 개인계정 username\n          <span class=\"token key atrule\">destination-repository-name</span><span class=\"token punctuation\">:</span> 개인계정 repository name\n          <span class=\"token comment\"># 원본 commit message를 그대로 사용해 commit (optional)</span>\n          <span class=\"token key atrule\">commit-message</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> github.event.commits<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>.message <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">target-branch</span><span class=\"token punctuation\">:</span> main</code></pre></div>\n<br/>\n<p>위 단계까지 마치면 팀 repo의 Actions 탭에서 <code class=\"language-text\">update a forked repository main</code> (혹은 수정한 workflow name)을 확인할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 99.44444444444443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAACRUlEQVQ4y31U2XLaQBDUl8QOCHSgE923AROn7FTlJf//K53q2V0hYeyHqdHq6O1jVtZ4fsPH339wDik2ToitG8H2YjhhBlcXr53g+LB2fgLbU9/svBhW0U44/fqDrJ7mF/aHFNV4xXB5R395x3D5QNFfkJQD0mpcVZDWCNIKcd4iKTpYbpgjylrEeScPvCgXlgTdB0fpju6PSpj5sXSWxY/9pMRBF0Ep00hXtbx+XFTGsrjImgl5M6FoX1D1Z2H5ZPvYOAF+7m91vzb1vDvMSizunpYDjvWIrB5xrAYBbaarbFJ2J7nPzfiM67I/yzO+Vw8XuWdsEck0NC461fMWadlLp/wobxAea0RZI5aYNSsu1Pt8ZgIVhnnD3Ue001V2zdsXNOOrAP/Yenje+TJSLCN9Lf8APy6M5BiRjpwArEzLT6tepJHpOqR1malwAi05rZSHadmJT9nCT3pEeTRegUaw3UV50W3M6CFvcKjJzBhPMBpNCxgA1/3pTYApW5h9BcgFB5vGmlAISrnsXNOf9Xx+ZqhOmJ5DhkKWlEdWw/m3GgfNjsE82Z6YbzxbATrhfO4FkMeOoTDhZTjCVIfEcKhiK5IXLGfJifbQjZAU6mN6aAASDWpmkl0A3a8Al6E0k0g26crJ6E7CWE7N+Cohbe7ZzYCh+sUZyWHWyCySBSXLDJa9BGGKwcz+Ldg9YBgLOzIy55aBsPPF28kI1/N3x3AORQabPhUqGHrJTpM/nY4FyP3YmD+4eLicPwZDdg9n7htAI/k/3H9uSepZU24AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image02.png\"\n        title=\"image02.png\"\n        src=\"/static/f138a29d2d490120a4859ffbc086fb4b/37523/image02.png\"\n        srcset=\"/static/f138a29d2d490120a4859ffbc086fb4b/e9ff0/image02.png 180w,\n/static/f138a29d2d490120a4859ffbc086fb4b/f21e7/image02.png 360w,\n/static/f138a29d2d490120a4859ffbc086fb4b/37523/image02.png 720w,\n/static/f138a29d2d490120a4859ffbc086fb4b/302a4/image02.png 1080w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>이제 main 브랜치에 수정사항이 생길 때마다 위처럼 자동으로 action이 실행되어 개인 repo에 반영되고, <br/> 개인 repo와 연동된 vercel도 다시 배포를 진행하게 된다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">들어가며</a></li>\n<li><a href=\"#%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98-%EC%84%A4%EC%A0%95\">환경 변수 설정</a></li>\n<li><a href=\"#github-action-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0\">github action 설정하기</a></li>\n</ul>\n</div>","frontmatter":{"date":"September 26, 2023","title":"fork한 repository 자동 최신화하기 (feat. github action)","categories":"Git","author":"Bomdong","emoji":"🆕"},"fields":{"slug":"/git-action-push-to-another-repo/"}},"prev":{"id":"07efdb18-8333-528d-86e3-5577d8a2a5f0","html":"<h2 id=\"들어가며\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가며</h2>\n<p>업무 중 react-hook-form을 사용하다보니 공식문서에 기재된 best practice뿐만 아니라 이런 저런 방법으로 응용이 필요했다.\n나름의 방법으로 고심해보며 중간중간 드는 궁금증들은 실제 구현된 코드도 찾아보며 해결해보기도 했다. 그 여정을 간단히 기록해보는 글.\nreact-hook-form은 앞으로도 계속해서 사용할테니 아래 내용은 더 추가될 예정.</p>\n<h2 id=\"서로-다른-컴포넌트에서-form-상태-공유하기\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%A1%9C-%EB%8B%A4%EB%A5%B8-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%97%90%EC%84%9C-form-%EC%83%81%ED%83%9C-%EA%B3%B5%EC%9C%A0%ED%95%98%EA%B8%B0\" aria-label=\"서로 다른 컴포넌트에서 form 상태 공유하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서로 다른 컴포넌트에서 form 상태 공유하기</h2>\n<p>한 파일 안에 모든 input이 존재해 form data가 관리되는 형태라면 큰 어려움이 없겠지만,</p>\n<p>component 단위로 개발하는 react 특성상 form data를 공유하는 여러 component가 존재할 수 있다.</p>\n<p>React Hook Form은 React의 Context API를 활용해 서로 다른 컴포넌트 간에도 form의 상태를 공유하는 custom hook <code class=\"language-text\">useFormContext</code> 와 <code class=\"language-text\">FormProvider</code> 컴포넌트를 제공한다.</p>\n<p>각각 코드로 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// context 생성</span>\n<span class=\"token keyword\">const</span> HookFormContext <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">createContext</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>UseFormReturn <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// HookFormContext를 사용하는 custom hook</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> useFormContext <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>\n  TFieldValues <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FieldValues</span><span class=\"token punctuation\">,</span>\n  TContext <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span>\n  TransformedValues <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FieldValues</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">undefined</span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> UseFormReturn<span class=\"token operator\">&lt;</span>TFieldValues<span class=\"token punctuation\">,</span> TContext<span class=\"token punctuation\">,</span> TransformedValues<span class=\"token operator\">></span> <span class=\"token operator\">=></span>\n  React<span class=\"token punctuation\">.</span><span class=\"token function\">useContext</span><span class=\"token punctuation\">(</span>HookFormContext<span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> UseFormReturn<span class=\"token operator\">&lt;</span>TFieldValues<span class=\"token punctuation\">,</span> TContext<span class=\"token punctuation\">,</span> TransformedValues<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> FormProvider <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>\n  TFieldValues <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FieldValues</span><span class=\"token punctuation\">,</span>\n  TContext <span class=\"token operator\">=</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">,</span>\n  TTransformedValues <span class=\"token keyword\">extends</span> <span class=\"token class-name\">FieldValues</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">undefined</span>\n<span class=\"token operator\">></span><span class=\"token punctuation\">(</span>\n  props<span class=\"token operator\">:</span> FormProviderProps<span class=\"token operator\">&lt;</span>TFieldValues<span class=\"token punctuation\">,</span> TContext<span class=\"token punctuation\">,</span> TTransformedValues<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> children<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>data <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>HookFormContext<span class=\"token punctuation\">.</span>Provider value<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span>data <span class=\"token keyword\">as</span> <span class=\"token builtin\">unknown</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> UseFormReturn<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>HookFormContext<span class=\"token punctuation\">.</span>Provider<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"formprovider-form-태그-외부에서-handlesubmit을-해야할-때\" style=\"position:relative;\"><a href=\"#formprovider-form-%ED%83%9C%EA%B7%B8-%EC%99%B8%EB%B6%80%EC%97%90%EC%84%9C-handlesubmit%EC%9D%84-%ED%95%B4%EC%95%BC%ED%95%A0-%EB%95%8C\" aria-label=\"formprovider form 태그 외부에서 handlesubmit을 해야할 때 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FormProvider, form 태그 외부에서 handleSubmit을 해야할 때</h2>\n<p>일반적으로 HTML form 태그의 submit event는 <code class=\"language-text\">type=”submit”</code> 형태의 제출 버튼이 form 내부에 위치해야 발생한다.</p>\n<p>하지만 react-hook-form을 사용할 때 특정한 이유로 form submit을 form 태그 바깥에서 처리해야 한다면..? (그럴 일이 없을 것 같지만 디자인 시스템 모달을 사용하다보니 스타일링 이슈가 발생하더라)</p>\n<p>방법은 form 태그의 외부에서 <code class=\"language-text\">methods.handleSubmit(onSubmit)()</code>; 형태로 <code class=\"language-text\">handleSubmit</code> 함수를 호출하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> methods <span class=\"token operator\">=</span> <span class=\"token function\">useForm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\ndefaultValues<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">onSubmit</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>formData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span><span class=\"token punctuation\">.</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">&lt;</span>ModalContainer<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>ModalBody<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>FormProvider <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>methods<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>form onSubmit<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>methods<span class=\"token punctuation\">.</span><span class=\"token function\">handleSubmit</span><span class=\"token punctuation\">(</span>onSubmit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>form<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>FormProvider<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ModalBody<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>ModalFooter<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>methods<span class=\"token punctuation\">.</span><span class=\"token function\">handleSubmit</span><span class=\"token punctuation\">(</span>onSubmit<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span> <span class=\"token comment\">//here</span>\n\t\tsave\n\t\t<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ModalFooter<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ModalContainer<span class=\"token operator\">></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>React Hook Form에서 제공하는 handleSubmit 함수는 form 유효성 검사 결과에 따른 콜백 함수 <code class=\"language-text\">onValid</code>, <code class=\"language-text\">onInvalid</code>를 인자로 받아 form 유효성 검사에 따라 각각 호출한다. form data의 유효성 검사 및 처리 방식을 완전히 제어할 수 있다.</p>\n<p>그렇다면 handleSubmit 함수가 어떻게 이루어져있는지 코드로 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> handleSubmit<span class=\"token operator\">:</span> UseFormHandleSubmit<span class=\"token operator\">&lt;</span>TFieldValues<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>onValid<span class=\"token punctuation\">,</span> onInvalid<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    e<span class=\"token punctuation\">.</span>preventDefault <span class=\"token operator\">&amp;&amp;</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    e<span class=\"token punctuation\">.</span>persist <span class=\"token operator\">&amp;&amp;</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">persist</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">let</span> fieldValues <span class=\"token operator\">=</span> <span class=\"token function\">cloneObject</span><span class=\"token punctuation\">(</span>_formValues<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// form submit 시작 알림</span>\n  _subjects<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    isSubmitting<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// resolver가 있으면 _executeSchema로, 없으면 executeBuiltInValidation로 유효성 검사</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_options<span class=\"token punctuation\">.</span>resolver<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> errors<span class=\"token punctuation\">,</span> values <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">_executeSchema</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    _formState<span class=\"token punctuation\">.</span>errors <span class=\"token operator\">=</span> errors<span class=\"token punctuation\">;</span>\n    fieldValues <span class=\"token operator\">=</span> values<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">executeBuiltInValidation</span><span class=\"token punctuation\">(</span>_fields<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">unset</span><span class=\"token punctuation\">(</span>_formState<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">,</span> <span class=\"token string\">'root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//root 오류 제거</span>\n\n  <span class=\"token comment\">// formState의 error 객체가 비어있으면 onValid, 존재하면 onInvalid 호출</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isEmptyObject</span><span class=\"token punctuation\">(</span>_formState<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    _subjects<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      errors<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">onValid</span><span class=\"token punctuation\">(</span>fieldValues <span class=\"token keyword\">as</span> TFieldValues<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>onInvalid<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">await</span> <span class=\"token function\">onInvalid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token operator\">...</span>_formState<span class=\"token punctuation\">.</span>errors <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// 오류가 발생한 첫 번째 field에 focus 맞춤</span>\n    <span class=\"token function\">_focusError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>_focusError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// form submit이 끝났음을 알리고 form 상태 update</span>\n  _subjects<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    isSubmitted<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    isSubmitting<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    isSubmitSuccessful<span class=\"token operator\">:</span> <span class=\"token function\">isEmptyObject</span><span class=\"token punctuation\">(</span>_formState<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    submitCount<span class=\"token operator\">:</span> _formState<span class=\"token punctuation\">.</span>submitCount <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    errors<span class=\"token operator\">:</span> _formState<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>앞서 언급한 것처럼 form의 유효성 검사 후 error 객체에 따라 onValid, onInvalid 함수를 호출하고 있다. 이 함수는 form의 onSubmit 이벤트 외에도 다른 이벤트에서도 호출할 수 있다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">들어가며</a></li>\n<li><a href=\"#%EC%84%9C%EB%A1%9C-%EB%8B%A4%EB%A5%B8-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%97%90%EC%84%9C-form-%EC%83%81%ED%83%9C-%EA%B3%B5%EC%9C%A0%ED%95%98%EA%B8%B0\">서로 다른 컴포넌트에서 form 상태 공유하기</a></li>\n<li><a href=\"#formprovider-form-%ED%83%9C%EA%B7%B8-%EC%99%B8%EB%B6%80%EC%97%90%EC%84%9C-handlesubmit%EC%9D%84-%ED%95%B4%EC%95%BC%ED%95%A0-%EB%95%8C\">FormProvider, form 태그 외부에서 handleSubmit을 해야할 때</a></li>\n</ul>\n</div>","frontmatter":{"date":"December 24, 2023","title":"react-hook-form을 사용하며 알게된 것들","categories":"React","author":"Bomdong","emoji":"🔖"},"fields":{"slug":"/react-hook-form-wiki/"}},"site":{"siteMetadata":{"siteUrl":"https://dev-bomdong.github.io","comments":{"utterances":{"repo":"dev-bomdong/dev-bomdong.github.io"}}}}},"pageContext":{"slug":"/journal-after-restructuring/","nextSlug":"/git-action-push-to-another-repo/","prevSlug":"/react-hook-form-wiki/"}},"staticQueryHashes":["1073350324","2009502679","2938748437"],"slicesMap":{}}
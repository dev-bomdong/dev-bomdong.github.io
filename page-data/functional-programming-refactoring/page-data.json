{"componentChunkName":"component---src-templates-blog-template-js","path":"/functional-programming-refactoring/","result":{"data":{"cur":{"id":"74ce12f5-1daf-5e0a-a7db-c80e1b8c81d8","html":"<blockquote>\n<p>본 글은 <a href=\"http://www.yes24.com/Product/Goods/108748841\">쏙쏙 들어오는 함수형 코딩 - 에릭 노먼드</a> 저서를 읽고 학습한 내용을 정리한 글입니다.</p>\n</blockquote>\n<h2 id=\"들어가며\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가며</h2>\n<p><a href=\"http://localhost:8000/functional-programming-concept/\">이전 글</a>에서\n액션과 계산, 데이터의 개념에 대해 알아보았다면, 이번 포스팅은 실습시간! <br/>\n여러 예제로 상세히 알아본 개념을 활용해 리팩토링을 해보자.  <br/></p>\n<h3 id=\"함수의-입출력\" style=\"position:relative;\"><a href=\"#%ED%95%A8%EC%88%98%EC%9D%98-%EC%9E%85%EC%B6%9C%EB%A0%A5\" aria-label=\"함수의 입출력 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>함수의 입출력</h3>\n<p>액션에서 계산을 빼내기 위해선 우선 어떠한 함수를 액션 혹은 계산으로 구분할 줄 알아야한다. <br/>\n이를 위해선 함수의 입출력에 대한 이해가 필요하다.</p>\n<p>모든 함수에는 입력과 출력이 존재한다. <strong>입력</strong>은 함수가 동작하기 위해 외부에서 유입되는 정보, <strong>출력</strong>은 함수의 결과로 나오는 정보/또다른 동작을 뜻한다.\n함수의 입출력은 아래와 같이 명시적이거나 암묵적인 속성을 가진다.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>입력</th>\n<th>출력</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>명시적</td>\n<td>인자</td>\n<td>리턴값</td>\n</tr>\n<tr>\n<td>암묵적</td>\n<td>인자 외 다른 입력</td>\n<td>리턴값 외 다른 출력</td>\n</tr>\n</tbody>\n</table>\n<p>여기서 기억해야 할 것은, <strong>함수가 암묵적 입출력을 가지면 액션, 명시적 입출력을 가지면 계산이 된다.</strong> <br/>\n또, 어떠한 함수가 액션을 포함한다면 그 함수 전체는 액션이 된다.\n따라서 액션 함수를 계산 함수로 만들려면 암묵적인 입출력을 찾아 명시적으로 변경해야 한다.</p>\n<p>함수에는 보통 인자와 리턴값이 있으니까 대부분의 함수는 명시적 입출력을 가지겠군~ 생각할 수도 있다. (본인 경험담)\n하지만 과연 그럴까 🤔 아래의 예시를 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> totalPrice <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//전역변수</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">addToTotalPrice</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">price</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  totalPrice <span class=\"token operator\">+=</span> price<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> totalPrice<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">addToTotalPrice</code> 함수는 액션일까 계산일까?</p>\n<p>인자 <code class=\"language-text\">price</code>와 리턴값 <code class=\"language-text\">totalPrice</code>를 가지고 있으므로 명시적 입출력을 가지는구나, 이건 계산이다! 생각할 수 있다.\n하지만 아래의 표를 보면 숨어있던 암묵적 입출력을 발견하게 된다.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>입력</th>\n<th>출력</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>명시적</td>\n<td><code class=\"language-text\">price</code></td>\n<td><code class=\"language-text\">total</code></td>\n</tr>\n<tr>\n<td>암묵적</td>\n<td><code class=\"language-text\">totalPrice += price</code> <br/> 전역변수 읽기</td>\n<td><code class=\"language-text\">totalPrice += price</code> <br/> 전역변수 변경</td>\n</tr>\n</tbody>\n</table>\n<p>전역변수를 읽고 변경하는 부분도 암묵적 입출력에 해당하기 때문에 결국 <code class=\"language-text\">addToTotalPrice</code> 함수는 계산이 아닌 액션 함수로 분류된다.</p>\n<h2 id=\"액션에서-계산-빼내기\" style=\"position:relative;\"><a href=\"#%EC%95%A1%EC%85%98%EC%97%90%EC%84%9C-%EA%B3%84%EC%82%B0-%EB%B9%BC%EB%82%B4%EA%B8%B0\" aria-label=\"액션에서 계산 빼내기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>액션에서 계산 빼내기</h2>\n<p>이제 액션 함수에서 계산 함수를 분리하는 리팩토링을 아래의 예제 코드와 함께 단계별로 진행해보자.\n아래 함수는 유저의 주문에 따라 총 주문금액과 배송비를 계산하는 로직이 담겨있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// 전역변수 - 추후 orderList에 타입에 맞는 데이터가 추가되는 것으로 가정</span>\n<span class=\"token keyword\">let</span> totalPrice <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> orderList<span class=\"token operator\">:</span> <span class=\"token builtin\">Array</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">{</span>name<span class=\"token operator\">:</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> price<span class=\"token operator\">:</span><span class=\"token builtin\">number</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> \n\n<span class=\"token comment\">// 총 주문금액 및 배송비 계산</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleTotalOrder</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    totalPrice <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    orderList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        totalPrice <span class=\"token operator\">+=</span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">changeShippingFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//배송비를 계산하는 별도의 함수</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"1-함수를-액션-계산-데이터로-구분하기\" style=\"position:relative;\"><a href=\"#1-%ED%95%A8%EC%88%98%EB%A5%BC-%EC%95%A1%EC%85%98-%EA%B3%84%EC%82%B0-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A1%9C-%EA%B5%AC%EB%B6%84%ED%95%98%EA%B8%B0\" aria-label=\"1 함수를 액션 계산 데이터로 구분하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 함수를 액션, 계산, 데이터로 구분하기</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    totalPrice <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    orderList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        totalPrice <span class=\"token operator\">+=</span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><code class=\"language-text\">handleTotalOrder</code> 함수는 전역변수 orderList를 읽고(암묵적 입력), 또다른 전역변수 totalPrice를 변경하고 있으므로(암묵적 출력) 액션으로 분류된다.</p>\n<h3 id=\"2-계산하는-부분-찾아-분리하기-서브루틴-추출\" style=\"position:relative;\"><a href=\"#2-%EA%B3%84%EC%82%B0%ED%95%98%EB%8A%94-%EB%B6%80%EB%B6%84-%EC%B0%BE%EC%95%84-%EB%B6%84%EB%A6%AC%ED%95%98%EA%B8%B0-%EC%84%9C%EB%B8%8C%EB%A3%A8%ED%8B%B4-%EC%B6%94%EC%B6%9C\" aria-label=\"2 계산하는 부분 찾아 분리하기 서브루틴 추출 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 계산하는 부분 찾아 분리하기 (서브루틴 추출)</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">calculateTotalPrice</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  totalPrice <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  orderList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    totalPrice <span class=\"token operator\">+=</span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleTotalOrder</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">calculateTotalPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//총 주문금액 계산</span>\n  <span class=\"token function\">changeShippingFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//배송비를 계산하는 별도의 함수</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>기존 코드에서 총 주문 금액을 계산하는 부분을 찾아 분리했다.\n이 단계만으로 액션 함수가 계산 함수로 변하지는 않는다. 암묵적 입출력을 가지고있는 함수 <code class=\"language-text\">calculateTotalPrice</code>, <code class=\"language-text\">handleTotalOrder</code> 모두 액션인 상태.</p>\n<h3 id=\"3-분리한-함수에서-암묵적-입출력-찾기\" style=\"position:relative;\"><a href=\"#3-%EB%B6%84%EB%A6%AC%ED%95%9C-%ED%95%A8%EC%88%98%EC%97%90%EC%84%9C-%EC%95%94%EB%AC%B5%EC%A0%81-%EC%9E%85%EC%B6%9C%EB%A0%A5-%EC%B0%BE%EA%B8%B0\" aria-label=\"3 분리한 함수에서 암묵적 입출력 찾기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 분리한 함수에서 암묵적 입출력 찾기</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">calculateTotalPrice</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  totalPrice <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//암묵적 출력</span>\n  orderList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">//암묵적 입력</span>\n    totalPrice <span class=\"token operator\">+=</span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">;</span> <span class=\"token comment\">//암묵적 출력</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>주석으로도 표시해두었지만, 분리한 함수 <code class=\"language-text\">calculateTotalPrice</code>의 암묵적 입출력은 다음과 같다.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>암묵적</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>입력</td>\n<td>전역변수 orderList 읽음</td>\n</tr>\n<tr>\n<td>출력</td>\n<td>전역변수 totalPrice 변경</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"4-암묵적-입출력-명시적으로-바꾸기\" style=\"position:relative;\"><a href=\"#4-%EC%95%94%EB%AC%B5%EC%A0%81-%EC%9E%85%EC%B6%9C%EB%A0%A5-%EB%AA%85%EC%8B%9C%EC%A0%81%EC%9C%BC%EB%A1%9C-%EB%B0%94%EA%BE%B8%EA%B8%B0\" aria-label=\"4 암묵적 입출력 명시적으로 바꾸기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 암묵적 입출력 명시적으로 바꾸기</h3>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">calculateTotalPrice</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">orderList</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> totalPrice <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> \n    orderList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        totalPrice <span class=\"token operator\">+=</span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> total<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleTotalOrder</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">calculateTotalPrice</span><span class=\"token punctuation\">(</span>orderList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//총 주문금액 계산 함수</span>\n    <span class=\"token function\">changeShippingFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//배송비를 계산하는 별도의 함수</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>아래 표와 같이 <code class=\"language-text\">calculateTotalPrice</code> 함수의 암묵적 입출력을 명시적 입출력으로 변경해 계산으로 변경했다.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>변경 전 (암묵적)</th>\n<th>변경 후 (명시적)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>입력</td>\n<td>전역변수 orderList 읽음</td>\n<td>인자 orderList 읽음</td>\n</tr>\n<tr>\n<td>출력</td>\n<td>전역변수 totalPrice 변경</td>\n<td>지역변수 totalPrice 변경 후 리턴</td>\n</tr>\n</tbody>\n</table>\n<p><code class=\"language-text\">handleTotalOrder</code> 함수는 1)총 주문금액 계산 함수와 2)배송비 계산 함수의 조합으로 변경되었다.</p>\n<br/>\n<p>이렇게 액션과 계산이 섞여있던 함수에서 계산 로직을 분리해내 별도의 함수로 만들어봤다. <br/>\n리팩토링을 통해 하나의 함수가 더 작은 단위의 함수 두 개로 쪼개졌고, 이는 테스트와 재사용 그리고 유지보수에 더 유리해졌다.</p>\n<h2 id=\"마무리\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마무리</h2>\n<p>앞서 진행한 액션에서 계산을 빼내는 리팩토링은 안타깝지만 모든 액션에 적용할 수는 없다. <br/></p>\n<blockquote>\n<p>모든 액션에 적용한다면 데이터와 계산만 남게될텐데, 데이터와 계산만으로 프로그래밍한다는 것은 순수함수로만 프로그래밍을 한다는 것과 비슷한 이야기일테니 🫥</p>\n</blockquote>\n<p>따라서 아래 사항을 전제로, 액션에서 빼낼 수 있는 계산은 분리하되 남아있는 액션은 더 좋은 액션으로 만들어야 한다.</p>\n<ul>\n<li>모든 액션을 계산으로 바꿀 수는 없다.</li>\n<li>액션과 계산을 분리해 액션을 최소화하고, 계산을 늘리는 것을 목표로 한다.</li>\n<li>남아있는 액션에서 암묵적 입출력을 최소화한다.</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">들어가며</a></p>\n<ul>\n<li><a href=\"#%ED%95%A8%EC%88%98%EC%9D%98-%EC%9E%85%EC%B6%9C%EB%A0%A5\">함수의 입출력</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%95%A1%EC%85%98%EC%97%90%EC%84%9C-%EA%B3%84%EC%82%B0-%EB%B9%BC%EB%82%B4%EA%B8%B0\">액션에서 계산 빼내기</a></p>\n<ul>\n<li><a href=\"#1-%ED%95%A8%EC%88%98%EB%A5%BC-%EC%95%A1%EC%85%98-%EA%B3%84%EC%82%B0-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A1%9C-%EA%B5%AC%EB%B6%84%ED%95%98%EA%B8%B0\">1. 함수를 액션, 계산, 데이터로 구분하기</a></li>\n<li><a href=\"#2-%EA%B3%84%EC%82%B0%ED%95%98%EB%8A%94-%EB%B6%80%EB%B6%84-%EC%B0%BE%EC%95%84-%EB%B6%84%EB%A6%AC%ED%95%98%EA%B8%B0-%EC%84%9C%EB%B8%8C%EB%A3%A8%ED%8B%B4-%EC%B6%94%EC%B6%9C\">2. 계산하는 부분 찾아 분리하기 (서브루틴 추출)</a></li>\n<li><a href=\"#3-%EB%B6%84%EB%A6%AC%ED%95%9C-%ED%95%A8%EC%88%98%EC%97%90%EC%84%9C-%EC%95%94%EB%AC%B5%EC%A0%81-%EC%9E%85%EC%B6%9C%EB%A0%A5-%EC%B0%BE%EA%B8%B0\">3. 분리한 함수에서 암묵적 입출력 찾기</a></li>\n<li><a href=\"#4-%EC%95%94%EB%AC%B5%EC%A0%81-%EC%9E%85%EC%B6%9C%EB%A0%A5-%EB%AA%85%EC%8B%9C%EC%A0%81%EC%9C%BC%EB%A1%9C-%EB%B0%94%EA%BE%B8%EA%B8%B0\">4. 암묵적 입출력 명시적으로 바꾸기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\">마무리</a></p>\n</li>\n</ul>\n</div>","excerpt":"본 글은 쏙쏙 들어오는 함수형 코딩 - 에릭 노먼드 저서를 읽고 학습한 내용을 정리한 글입니다. 들어가며 이전 글에서\n액션과 계산, 데이터의 개념에 대해 알아보았다면, 이번 포스팅은 실습시간! \n여러 예제로 상세히 알아본 개념을 활용해 리팩토링을 해보자.   함수의 입출력 액션에서 계산을 빼내기 위해선 우선 어떠한 함수를 액션 혹은 계산으로 구분할 줄 알아야한다. \n이를 위해선 함수의 입출력에 대한 이해가 필요하다. 모든 함수에는 입력과 출력이 존재한다. 입력은 함수가 동작하기 위해 외부에서 유입되는 정보, 출력은 함수의 결과로 나오는 정보/또다른 동작을 뜻한다.\n함수의 입출력은 아래와 같이 명시적이거나 암묵적인 속성을 가진다.  입력 출력 명시적 인자 리턴값 암묵적 인자 외 다른 입력 리턴값 외 다른 출력 여기서 기억해야 할 것은, 함수가 암묵적 입출력을 가지면 액션, 명시적 입출력을 가지면 계산이 된다. \n또, 어떠한 함수가 액션을 포함한다면 그 함수 전체는 액션이 된다.\n따라…","frontmatter":{"date":"March 26, 2023","title":"함수형 프로그래밍 | 액션 리팩토링하기","categories":"Web","author":"Bomdong","emoji":"🚀"},"fields":{"slug":"/functional-programming-refactoring/"}},"next":{"id":"4cf2320b-3206-5e3e-b9cb-19c7cc59a489","html":"<blockquote>\n<p>본 글은 <a href=\"http://www.yes24.com/Product/Goods/108748841\">쏙쏙 들어오는 함수형 코딩 - 에릭 노먼드</a> 저서를 읽고 학습한 내용을 정리한 글입니다. <br/>\n예제로 작성한 코드는 책을 옮겨 적은 것이 아니라  학습한 내용을 바탕으로 직접 작성하였습니다.</p>\n</blockquote>\n<h2 id=\"들어가며\" style=\"position:relative;\"><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\" aria-label=\"들어가며 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>들어가며</h2>\n<p>기존에 함수형 프로그래밍이라 하면 순수 함수(결과값이 인자에만 의존)와 부수 효과(결과값을 리턴하는 것 외의 다른 동작)를 구분하고,\n부수 효과를 피하며 순수 함수만을 합성해 프로그래밍하는 기법이란 기조가 강했다.</p>\n<p>다만 부수 효과를 완전히 제거하고 순수 함수를 합성하는 것만으로 프로그래밍을 하기는 다소 어렵다는 애매함이 존재했다.\n예를 들어 특정한 리턴값이 존재하지 않는 부수 효과인 1) 전역 상태 수정이나 2) 무언가를 전송하는 동작을 하지 못한다면.. 🤯 프로그래밍하기에 분명한 어려움이 있다.</p>\n<p>해당 서적에서는 함수형 프로그래밍을 액션, 계산, 데이터 3가지의 개념으로 프로그래밍하는 것이라 재정의하고 있다.\n에릭 노먼드가 설명하는 함수형 프로그래밍을 이해하기 위해 이 핵심 개념들을 알아보자.</p>\n<h2 id=\"액션과-계산-데이터-개념-알아보기\" style=\"position:relative;\"><a href=\"#%EC%95%A1%EC%85%98%EA%B3%BC-%EA%B3%84%EC%82%B0-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B0%9C%EB%85%90-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0\" aria-label=\"액션과 계산 데이터 개념 알아보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>액션과 계산, 데이터 개념 알아보기</h2>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>액션</th>\n<th>계산</th>\n<th>데이터</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>개념</td>\n<td>부수 효과가 있는 함수 <br/> 순수하지 않은 함수</td>\n<td>순수 함수, 수학 함수</td>\n<td>이벤트에 대한 사실</td>\n</tr>\n<tr>\n<td>특징</td>\n<td>실행 시점/횟수에 의존</td>\n<td>실행 시점/횟수와 관계없이 <br/> 입력값에 따라 출력되어 <br/> 테스트가 용이하다.</td>\n<td>무언가를 실행하지않고 <br/>그 자체로 의미가 있다</td>\n</tr>\n<tr>\n<td>예시</td>\n<td>이메일 보내기, DB읽기</td>\n<td>최댓값 찾기, 비밀번호 유효성 확인</td>\n<td>사용자가 입력한 비밀번호</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"실생활-사례로-한-번-더-알아보기\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%83%9D%ED%99%9C-%EC%82%AC%EB%A1%80%EB%A1%9C-%ED%95%9C-%EB%B2%88-%EB%8D%94-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0\" aria-label=\"실생활 사례로 한 번 더 알아보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>실생활 사례로 한 번 더 알아보기</h2>\n<p>오후 4시, 열심히 일하다 배가 고파진 짱구는 회사의 스낵바를 확인해보았는데 슬프게도 텅텅 비어있었다. <br/>\n짱구는 떨어지는 당을 채우기 위해 편의점에 가서 간식을 사올 예정이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAEEklEQVQ4yzWUXYhUZRjHD9RNd9F9oATeGF5F3QiG7oVIFIEsBIWWFUIlorKGlH0Ymrq2rbNri7tuq6vturvjzJk5X3POzs7s7Jzv+Tgfs5lKSdKHGYSCS2baL87Z9eLP+/LC+3v+7/vwfwQ/KuBFMlYjx7GeDzj87nautzT4+wfgZ25dX6AyO8HIsYNMZ45g1qZwF2UWmjkMM4tYmqRqF3FDDTeQEdxIwg8l3LaEnB/h1KEP+fztbQz07GIhd4b8xDe89vpWuro28NzaZ9mxrZuKdYlSLYtWncEMilihiBVIeKGaAGUSqBMV8b5XCa+Wcf0iuenTjH7Ww4kd3bzy/DpWPfUkTzz+GIIgsPqZ1eSlczQuq9Sa+RVoESeUEZxIJpEdSemh2yrgtYu0rxh8uX8n2ifvM3d4L7cmj1I/3sPZfTtS6Jq1a7BCCSeUsNtSet8JiwhuR8HpKCsHEnZQwI/kFDp28D0G3tnKtdFD3M2dYNeWFzn+Zjc7t2xk3aqnGRs9jh8rNCMFP5RphBKCHa84DCW8BB5KVGwRIzvMPSkDSoaH8knQM9z49nP+mDjCv0o/98Q+mlN9FI1JauYMrVijGSVPjmW8RQUnkqjaeWarOfTZKW7mvoZShvtKPw+Ufh6q/aBluC/1s5TrA7mPa2IGs60wW52mVJ7AbUrLwIpzCb2SZa52CS/UcZ08S4U+mB0EYwBKA/ynDXJfznBn4iNun36D345txi2cxF40aMYqdTePalxA0KtZKnURt63gxTJuoFBvyVwunmIp28vd6V7uTh3h95Hd3Bnu5nb/Rh4Mb+LBqQ3cmNyNGWo4gYjf0fADFcFuKvhxCSdU0q7ZYdIkjfmGiPbFdvTMPpqfbuaXQ+tZ6lvPP4Nd3PpqE1cPvEDr6EtU7WmcThKMPLZfQEgAVlvCChTsQMUOksaomO0C5fFeXHeImz+9xaL0MotjW4gHulD2bKA19SqBtQd97ju8UMGoXCAnDyIkn2oFcgqxIxUzKRCpOJGKHxuYzXFuXjvAn1f20wp7+OvOLn5t7eVG9DGmcwanpeKHCm5LoaCMISSO/KhEI9Zx41Iqr7O892INK1QJxVF+zA4zb81gN0eJjAHs871o+hB+R6daF1HLWcq1HIIX6ykgUWPRwO8YKcxOHIcqbqwzV5+kpg9htZKIzuKGJebtHHr1Ilp5Bn0+S72RxK+A8Ajmp45WQIGC29HwoiRBCjV3BtO7mBZyYoWqmcOYy6YDotYoYIdFzLCAGRQQmpcN/MVlV9YKzGrJKOXptHLFKlCeF9N13hNRjYsYlRnqrQJOLGEGImZbXB4OsYxQmp/BWwE6bQW7LVP3JM5fOMfZ8RHGJ84wOTnO2PgQswtZTH/FUVtMHSV6NFgS/Q9PzR7+GDn8hQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"concept-img.png\"\n        title=\"concept-img.png\"\n        src=\"/static/2aaf4652e340b66431c7d684a12abd72/37523/concept-img.png\"\n        srcset=\"/static/2aaf4652e340b66431c7d684a12abd72/e9ff0/concept-img.png 180w,\n/static/2aaf4652e340b66431c7d684a12abd72/f21e7/concept-img.png 360w,\n/static/2aaf4652e340b66431c7d684a12abd72/37523/concept-img.png 720w,\n/static/2aaf4652e340b66431c7d684a12abd72/1568e/concept-img.png 892w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\n<p>앞으로 짱구가 취할 행동을 액션, 계산, 데이터로 분류해보자. <br/>\n실행 시점/횟수에 의존하면 액션, 의존하지 않으면 계산, 데이터 그 자체이면 데이터로 판단한다.</p>\n<h3 id=\"1차-분류\" style=\"position:relative;\"><a href=\"#1%EC%B0%A8-%EB%B6%84%EB%A5%98\" aria-label=\"1차 분류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1차 분류</h3>\n<table>\n<thead>\n<tr>\n<th>단계</th>\n<th>항목</th>\n<th>유형</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td><strong>스낵바 확인</strong></td>\n<td>액션</td>\n</tr>\n<tr>\n<td>2</td>\n<td><strong>편의점에서 간식 구입</strong></td>\n<td>액션</td>\n</tr>\n<tr>\n<td>3</td>\n<td><strong>간식가지고 돌아오기</strong></td>\n<td>액션</td>\n</tr>\n</tbody>\n</table>\n<p>이렇게만 보면 짱구가 취할 모든 행위는 액션이구나 쉽네~하고 끝낼 수 있는데, 어딘가 모르게 찜찜하다. <br/>\n과연 이 과정에서 계산과 데이터는 존재하지 않을까?  조금 더 세밀하게 쪼개보자.</p>\n<h3 id=\"2차-분류\" style=\"position:relative;\"><a href=\"#2%EC%B0%A8-%EB%B6%84%EB%A5%98\" aria-label=\"2차 분류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2차 분류</h3>\n<table>\n<thead>\n<tr>\n<th>단계</th>\n<th>항목</th>\n<th>유형</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td><strong>스낵바 확인</strong></td>\n<td>액션</td>\n</tr>\n<tr>\n<td></td>\n<td>스낵바 확인 행위</td>\n<td>액션</td>\n</tr>\n<tr>\n<td></td>\n<td>현재 스낵바에 있는 간식 (스낵바 재고)</td>\n<td>데이터</td>\n</tr>\n<tr>\n<td>2</td>\n<td><strong>편의점에서 간식 구입</strong></td>\n<td>액션</td>\n</tr>\n<tr>\n<td></td>\n<td>현재 스낵바에 있는 간식 (스낵바 재고)</td>\n<td>데이터</td>\n</tr>\n<tr>\n<td></td>\n<td>먹고싶은 간식 (필요한 재고)</td>\n<td>데이터</td>\n</tr>\n<tr>\n<td></td>\n<td>쇼핑리스트 결정(필요한 재고 - 스낵바 재고) <br/> : 입력값인 필요한 재고/스낵바 재고에 따라 동일한 리스트가 출력된다.</td>\n<td>계산</td>\n</tr>\n<tr>\n<td></td>\n<td>쇼핑리스트</td>\n<td>데이터</td>\n</tr>\n<tr>\n<td></td>\n<td>쇼핑리스트에 있는 간식 구입</td>\n<td>액션</td>\n</tr>\n<tr>\n<td>3</td>\n<td><strong>간식가지고 돌아오기</strong></td>\n<td>액션</td>\n</tr>\n</tbody>\n</table>\n<p>각각의 액션을 세분화해보니 또다른 액션이나 계산, 데이터가 숨어있었다!</p>\n<h3 id=\"알-수-있는-점\" style=\"position:relative;\"><a href=\"#%EC%95%8C-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%A0%90\" aria-label=\"알 수 있는 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>알 수 있는 점</h3>\n<p>해당 예시를 통해 아래 사항들을 알 수 있다.</p>\n<ol>\n<li>액션과 계산, 데이터는 어디에나 적용할 수 있는 개념이다. (현실과 동떨어진 개념이 아니다.)</li>\n<li>액션 안에는 계산, 데이터, 또다른 액션이 숨어있을 수 있다.</li>\n</ol>\n<h2 id=\"함수형-사고로-새로운-코드-작성해보기\" style=\"position:relative;\"><a href=\"#%ED%95%A8%EC%88%98%ED%98%95-%EC%82%AC%EA%B3%A0%EB%A1%9C-%EC%83%88%EB%A1%9C%EC%9A%B4-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1%ED%95%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"함수형 사고로 새로운 코드 작성해보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>함수형 사고로 새로운 코드 작성해보기</h2>\n<p>이제 실습시간! 학습한 액션, 계산, 데이터 개념을 바탕으로 새로운 코드를 작성해보자. <br/>\n2023년 기념, 23세 고객에게 이벤트를 안내하는 메일을 발송하는 기능을 구현하려 한다.</p>\n<p>먼저, 기능 구현에 필요한 액션, 계산, 데이터를 생각한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABRUlEQVQozz2R2W6sMBBE+f+fu8pbEiFmAQaGxWAw3sA+VzgkJZXV7paOyu6MS0IIuq77vRLj7wFD3zMOw9/gaidVZZX8M4NstxojR0Rb0ZYFdhGcvVPaRxYPL6F4jSurB7v/0PSumJ3g3hYUdY50E+6wZF7NyOaOES1aNKi+xK+CSESYQC13WnUk18vOZA5CCLxVS7U8eYo7tz7npUpWJ8nwG5gJzHx5AqdSijPdVzXw7/PGx/eDvJmYbSAcB4PuaFVF8c65dXmqV7+QRbcRt/EPGDdBtGsCzhZq6amEphaaRnoWe0A8GE1HOd/JX18J+pxuqBN4pjmBTnbY+U1cB6KREAOTPuhUYNgig46pXmxIv38Ca/lI6R5DkeCrP5+825RKvkum5sGx9OC2tE3lIv0FO93riL6WsjhJr1tG2yX3psXsmv+qARnEK5DBmwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"concept-img2.png\"\n        title=\"concept-img2.png\"\n        src=\"/static/340aa6240e3b8f0a70ea9f11083e0bc7/37523/concept-img2.png\"\n        srcset=\"/static/340aa6240e3b8f0a70ea9f11083e0bc7/e9ff0/concept-img2.png 180w,\n/static/340aa6240e3b8f0a70ea9f11083e0bc7/f21e7/concept-img2.png 360w,\n/static/340aa6240e3b8f0a70ea9f11083e0bc7/37523/concept-img2.png 720w,\n/static/340aa6240e3b8f0a70ea9f11083e0bc7/302a4/concept-img2.png 1080w,\n/static/340aa6240e3b8f0a70ea9f11083e0bc7/07a9c/concept-img2.png 1440w,\n/static/340aa6240e3b8f0a70ea9f11083e0bc7/cc40b/concept-img2.png 2394w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>위 그림과 같이 각 액션/계산을 통해 데이터가 얻어지고, 그 데이터를 활용해 또다시 액션/계산을 실행하게된다.\n그렇다면 각 단계별로 코드를 작성해보자.</p>\n<h3 id=\"1-db에서-고객-목록-가져오기-액션\" style=\"position:relative;\"><a href=\"#1-db%EC%97%90%EC%84%9C-%EA%B3%A0%EA%B0%9D-%EB%AA%A9%EB%A1%9D-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0-%EC%95%A1%EC%85%98\" aria-label=\"1 db에서 고객 목록 가져오기 액션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. DB에서 고객 목록 가져오기 (액션)</h3>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">type</span> <span class=\"token class-name\">Client</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  birthYear<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span>\n  email<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// DB에서 받아온 고객 데이터</span>\n<span class=\"token keyword\">const</span> clients<span class=\"token operator\">:</span>Client<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    email<span class=\"token operator\">:</span> <span class=\"token string\">'dev-bomdong@gmail.com'</span><span class=\"token punctuation\">,</span>\n    birthYear<span class=\"token operator\">:</span> <span class=\"token number\">2001</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> \n  <span class=\"token comment\">// ...</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<h3 id=\"2-이메일-내용-작성-계산\" style=\"position:relative;\"><a href=\"#2-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EB%82%B4%EC%9A%A9-%EC%9E%91%EC%84%B1-%EA%B3%84%EC%82%B0\" aria-label=\"2 이메일 내용 작성 계산 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 이메일 내용 작성 (계산)</h3>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">calcEmailContentsList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>client<span class=\"token operator\">:</span>Client<span class=\"token punctuation\">,</span> targetYear<span class=\"token operator\">:</span><span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>client<span class=\"token punctuation\">.</span>birthYear <span class=\"token operator\">===</span> targetYear<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n        from <span class=\"token operator\">:</span> <span class=\"token string\">'newsletter@gmail.com'</span><span class=\"token punctuation\">,</span>\n        to<span class=\"token operator\">:</span> client<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\n        subject<span class=\"token operator\">:</span> <span class=\"token string\">'23세를 위한 2023년 이벤트를 안내드립니다.'</span><span class=\"token punctuation\">,</span>\n        body<span class=\"token operator\">:</span> <span class=\"token string\">'안녕하세요, ...'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">calcEmailContentsList</code>함수는 계산함수로, 호출 시점/횟수와 관계없이 고객 정보(client)와, 타겟 출생년도(targetYear)에 따른 이메일 내용(출력값)을 리턴한다.</p>\n<h3 id=\"3-이메일-발송-목록-작성-계산\" style=\"position:relative;\"><a href=\"#3-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EB%B0%9C%EC%86%A1-%EB%AA%A9%EB%A1%9D-%EC%9E%91%EC%84%B1-%EA%B3%84%EC%82%B0\" aria-label=\"3 이메일 발송 목록 작성 계산 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 이메일 발송 목록 작성 (계산)</h3>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">calcEmailList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>clients<span class=\"token operator\">:</span> Client<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> targetYear<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> emailList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    clients<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>client<span class=\"token operator\">:</span> Client<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      emailList<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token function\">calcEmailContents</span><span class=\"token punctuation\">(</span>client<span class=\"token punctuation\">,</span>targetYear<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> emailList<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">calcEmailList</code>함수는 계산함수로, 호출 시점/횟수와 관계없이 고객 정보(client)와, 타겟 출생년도(targetYear)에 따른 이메일 발송 목록(출력값)을 리턴한다.</p>\n<h3 id=\"4-이메일-전송-액션\" style=\"position:relative;\"><a href=\"#4-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EC%A0%84%EC%86%A1-%EC%95%A1%EC%85%98\" aria-label=\"4 이메일 전송 액션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 이메일 전송 (액션)</h3>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">sendEmail</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> clients <span class=\"token operator\">=</span> <span class=\"token function\">getCLientsFromDB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//DB에서 고객 데이터 조회 함수</span>\n    <span class=\"token keyword\">const</span> emailList <span class=\"token operator\">=</span> <span class=\"token function\">calcEmailList</span><span class=\"token punctuation\">(</span>clients<span class=\"token punctuation\">,</span> <span class=\"token number\">2001</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    emailList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">)</span><span class=\"token operator\">=></span> emailSystem<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//이메일 발송 함수</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>이번 포스팅에선 함수형 프로그래밍의 핵심 개념인 액션, 계산, 데이터 각각의 의미를 살펴보고 이를 토대로 새로운 코드를 작성해보았다.\n다음 포스팅에선 기존의 코드에 함수형 사고를 적용해서 어떻게 리팩토링 할지,\n짱구 사례에서처럼 액션을 또다른 액션, 계산, 데이터로 쪼개는 과정은 어떻게될지 차근차근 소개해볼 예정 💭</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0\">들어가며</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%95%A1%EC%85%98%EA%B3%BC-%EA%B3%84%EC%82%B0-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B0%9C%EB%85%90-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0\">액션과 계산, 데이터 개념 알아보기</a></p>\n</li>\n<li>\n<p><a href=\"#%EC%8B%A4%EC%83%9D%ED%99%9C-%EC%82%AC%EB%A1%80%EB%A1%9C-%ED%95%9C-%EB%B2%88-%EB%8D%94-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0\">실생활 사례로 한 번 더 알아보기</a></p>\n<ul>\n<li><a href=\"#1%EC%B0%A8-%EB%B6%84%EB%A5%98\">1차 분류</a></li>\n<li><a href=\"#2%EC%B0%A8-%EB%B6%84%EB%A5%98\">2차 분류</a></li>\n<li><a href=\"#%EC%95%8C-%EC%88%98-%EC%9E%88%EB%8A%94-%EC%A0%90\">알 수 있는 점</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%ED%95%A8%EC%88%98%ED%98%95-%EC%82%AC%EA%B3%A0%EB%A1%9C-%EC%83%88%EB%A1%9C%EC%9A%B4-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1%ED%95%B4%EB%B3%B4%EA%B8%B0\">함수형 사고로 새로운 코드 작성해보기</a></p>\n<ul>\n<li><a href=\"#1-db%EC%97%90%EC%84%9C-%EA%B3%A0%EA%B0%9D-%EB%AA%A9%EB%A1%9D-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0-%EC%95%A1%EC%85%98\">1. DB에서 고객 목록 가져오기 (액션)</a></li>\n<li><a href=\"#2-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EB%82%B4%EC%9A%A9-%EC%9E%91%EC%84%B1-%EA%B3%84%EC%82%B0\">2. 이메일 내용 작성 (계산)</a></li>\n<li><a href=\"#3-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EB%B0%9C%EC%86%A1-%EB%AA%A9%EB%A1%9D-%EC%9E%91%EC%84%B1-%EA%B3%84%EC%82%B0\">3. 이메일 발송 목록 작성 (계산)</a></li>\n<li><a href=\"#4-%EC%9D%B4%EB%A9%94%EC%9D%BC-%EC%A0%84%EC%86%A1-%EC%95%A1%EC%85%98\">4. 이메일 전송 (액션)</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"March 12, 2023","title":"함수형 프로그래밍 | 액션, 계산, 데이터","categories":"Web","author":"Bomdong","emoji":"🚀"},"fields":{"slug":"/functional-programming-concept/"}},"prev":{"id":"7cd02ccf-010d-5aa8-8dcb-cec9ddb45d6d","html":"<blockquote>\n<p>원문 : <a href=\"https://yehudakatz.com/2011/08/11/understanding-javascript-function-invocation-and-this/\">Understanding JavaScript Function Invocation and “this”</a></p>\n</blockquote>\n<p>본 글은 <a href=\"https://typescript-kr.github.io/pages/functions.html\">Typescript Handbook - 함수</a> 부분을 학습하던 중 본문에 링크되어있던 원문 글을 읽고 Javascript에서의 함수 호출과 알듯 말듯 모호했던 this를 학습하며 번역한 글입니다. <br/>\n의역이 포함되어 있는 점 양해 부탁드리며, 잘못된 부분을 발견하셨을 경우 댓글로 알려주시면 감사하겠습니다. 😊</p>\n<hr>\n<p>지난 시간동안 자바스크립트 함수 호출에 대해 많은 혼란이 있었습니다. <br/>\n특히, 함수 호출에서의 this의 의미를 혼란스러워하는 사람들이 많았습니다.</p>\n<p>이 혼란은 함수 호출의 핵심 원리를 이해하고, 그 원리를 기반으로 함수 호출 방법을 살펴보는 식으로 해결할 수 있다고 필자는 생각합니다.\n사실 이것은 ECMAScript에서 이 문제를 다루는 방식이기도 합니다.\n이 글은 ECMAScript보다는 단순하게 쓰여진 감이 있지만, 기본적인 아이디어는 같습니다.</p>\n<h2 id=\"핵심-기본-원리\" style=\"position:relative;\"><a href=\"#%ED%95%B5%EC%8B%AC-%EA%B8%B0%EB%B3%B8-%EC%9B%90%EB%A6%AC\" aria-label=\"핵심 기본 원리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>핵심 기본 원리</h2>\n<p>먼저, 함수 호출의 핵심 원리인 <code class=\"language-text\">call</code> 메소드[1]를 살펴보겠습니다.\ncall 메소드는 상대적으로 직관적입니다.</p>\n<ol>\n<li>1번부터 끝까지의 매개변수로 인수 목록 (<code class=\"language-text\">argList</code>)을 만듭니다.</li>\n<li>첫 번째 매개변수는 <code class=\"language-text\">thisValue</code>입니다.</li>\n<li><code class=\"language-text\">this</code>를 <code class=\"language-text\">thisValue</code>로, <code class=\"language-text\">arg</code>를 <code class=\"language-text\">argList</code>로 설정해 함수를 호출합니다.</li>\n</ol>\n<p>예시</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">thing</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" says hello \"</span> <span class=\"token operator\">+</span> thing<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">hello</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Yehuda\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//=> Yehuda says hello world</span></code></pre></div>\n<p>우리는 “Yehuda”로 설정된 this와 하나의 인수 “world”로 hello 메소드를 호출했습니다.\n이것은 자바스크립트 함수 호출의 핵심 기본 원리입니다.\n다른 함수 호출들도 이 기본 원리로 설명할 수 있습니다. (이렇게 보다 기본적인 원리로 설명하는 것을 “desugar”라고 합니다.).</p>\n<blockquote>\n<p>[1] ES5에서는 call 메소드를 보다 낮은 수준의 기본 형태로 설명하지만,\n본 글에서는 좀더 단순하게 설명하겠습니다. 자세한 정보는 이 글의 끝 부분을 참고하세요.</p>\n</blockquote>\n<h2 id=\"간단한-함수-호출\" style=\"position:relative;\"><a href=\"#%EA%B0%84%EB%8B%A8%ED%95%9C-%ED%95%A8%EC%88%98-%ED%98%B8%EC%B6%9C\" aria-label=\"간단한 함수 호출 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>간단한 함수 호출</h2>\n<p>물론, 항상 call을 사용하여 함수를 호출하는 것은 꽤 귀찮을 것입니다.\n자바스크립트에선 괄호 구문을 사용해 직접 함수를 호출할 수 있습니다. <br/>\n예를 들어 <code class=\"language-text\">hello(\"world\")</code>를 입력하면 함수 호출이 desugar됩니다:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">thing</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello \"</span> <span class=\"token operator\">+</span> thing<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// this:</span>\n<span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// desugars to:</span>\n<span class=\"token function\">hello</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">,</span> <span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p>이 동작은 ECMAScript5에서 strict mode를 사용할 때 변경됩니다[2]:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// this:</span>\n<span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// desugars to:</span>\n<span class=\"token function\">hello</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>간단히 말하면, <code class=\"language-text\">fn(...args)</code>과 같은 함수 호출은 <code class=\"language-text\">fn.call(window [ES5-strict: undefined], ...args)</code>과 동일합니다.</p>\n<p>인라인으로 선언된 함수에 대해서도 마찬가지입니다.\n<code class=\"language-text\">(function() {})()</code>은\n<code class=\"language-text\">(function() {}).call(window [ES5-strict: undefined])</code>과 같습니다.</p>\n<blockquote>\n<p>[2] 사실 조금 거짓말을 했습니다.\nECMAScript 5에선 (거의) 항상 undefined가 전달된다고 말하지만,\nstrict mode가 아닌 경우 함수 호출 시 thisValue를 전역 객체로 변경해야 한다고 합니다.\n이를 통해 strict mode 호출자는 기존의 strict mode가 아닌 라이브러리를 중단시키지 않을 수 있습니다.</p>\n</blockquote>\n<h2 id=\"멤버-함수\" style=\"position:relative;\"><a href=\"#%EB%A9%A4%EB%B2%84-%ED%95%A8%EC%88%98\" aria-label=\"멤버 함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>멤버 함수</h2>\n<p>다음으로 가장 일반적인 메소드 호출 방법은 객체의 멤버로서 호출하는 것입니다<br/>\n아래 코드의 <code class=\"language-text\">person.hello()</code> 에서 호출은 desugar됩니다:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> person <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Brendan Eich\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">hello</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">thing</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" says hello \"</span> <span class=\"token operator\">+</span> thing<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// this:</span>\nperson<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// desugars to this:</span>\nperson<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">,</span> <span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p>hello 메소드가 객체에 추가되는 방식은 중요하지 않습니다.\n이전에 hello를 독립적인 함수로 정의했다는 것을 기억하세요.\n이번에는 객체에 동적으로 추가하는 경우를 살펴보겠습니다:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">thing</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" says hello \"</span> <span class=\"token operator\">+</span> thing<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nperson <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Brendan Eich\"</span> <span class=\"token punctuation\">}</span>\nperson<span class=\"token punctuation\">.</span>hello <span class=\"token operator\">=</span> hello<span class=\"token punctuation\">;</span>\n\nperson<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// still desugars to person.hello.call(person, \"world\")</span>\n\n<span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// \"[object DOMWindow]world\"</span></code></pre></div>\n<p>함수는 ‘this’에 대한 지속적인 개념이 없다는 사실을 기억하세요.\nthis는 항상 호출된 방식과 시간에 따라 설정됩니다.</p>\n<h2 id=\"functionprototypebind-사용\" style=\"position:relative;\"><a href=\"#functionprototypebind-%EC%82%AC%EC%9A%A9\" aria-label=\"functionprototypebind 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Function.prototype.bind 사용</h2>\n<p>때때로 변하지않는 this 값을 가지는 함수를 참조하는 게 편리할 수 있습니다.\n따라서 사람들은 과거에 간단한 클로저 기법을 이용해 함수에서의 this가 변경되지 않도록 변환해왔습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> person <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Brendan Eich\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">hello</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">thing</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\" says hello \"</span> <span class=\"token operator\">+</span> thing<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">boundHello</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">thing</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> person<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">,</span> thing<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">boundHello</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">boundHello</code>는 여전히 <code class=\"language-text\">boundHello.call(window, \"world\")</code>로 변환되지만,\n다시 원하는 값으로 this 값을 변경하기 위해 기본적인 호출(call) 메소드를 사용합니다.</p>\n<p>이 기법을 조금 수정하면 일반적인 목적으로 사용할 수 있습니다:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> <span class=\"token function-variable function\">bind</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">func<span class=\"token punctuation\">,</span> thisValue</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">func</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>thisValue<span class=\"token punctuation\">,</span> arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> boundHello <span class=\"token operator\">=</span> <span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span>hello<span class=\"token punctuation\">,</span> person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">boundHello</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// \"Brendan Eich says hello world\"</span></code></pre></div>\n<p>이 동작을 이해하기 위해서는 두 가지 정보가 더 필요합니다.</p>\n<p>첫째로, <code class=\"language-text\">arguments</code>는 함수에 전달된 모든 인수를 나타내는 유사 배열 객체입니다.\n둘째로, <code class=\"language-text\">apply</code> 메소드는 인수를 하나씩 나열하는 대신 유사 배열 객체를 취한다는 점을 제외하고, call 메소드와 유사하게 작동합니다.</p>\n<p><code class=\"language-text\">bind</code> 메소드는 단순히 새로운 함수를 반환합니다.\n호출될 때 새로운 함수는 원래 전달된 함수를 호출하고, 원래 값으로 this를 설정합니다.\n또한 인수를 전달합니다.</p>\n<p>이것이 다소 일반적인 관용구였기 때문에, ES5에서는 아래 동작을 구현하는 모든 Function 객체에 대해\n새로운 bind 메소드가 도입되었습니다:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> boundHello <span class=\"token operator\">=</span> person<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">boundHello</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"world\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// \"Brendan Eich says hello world\"</span></code></pre></div>\n<p>이것은 콜백으로 전달할 원시 함수가 필요할 때 가장 유용합니다:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> person <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Alex Russell\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">hello</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">+</span> <span class=\"token string\">\" says hello world\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#some-div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// when the div is clicked, \"Alex Russell says hello world\" is printed</span></code></pre></div>\n<p>물론 이것은 다소 어색하며,\nTC39(ECMAScript의 다음 버전)는 보다 나은 해결책을 위해 계속 작업하고 있습니다.</p>\n<h2 id=\"jquery에-대해\" style=\"position:relative;\"><a href=\"#jquery%EC%97%90-%EB%8C%80%ED%95%B4\" aria-label=\"jquery에 대해 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>jQuery에 대해</h2>\n<p>익명 콜백 함수를 많이 사용하는 jQuery에서는 내부적으로 콜백 함수의 this를 더 유용한 값으로 설정하기 위해 call 메서드를 사용합니다.</p>\n<p>예를 들어, 특별한 처리 없이 모든 이벤트 핸들러에서 window를 this로 받는 대신,\njQuery는 이벤트 핸들러를 설정한 요소를 첫 번째 매개변수로 사용하여 콜백에 대해 call을 호출합니다.</p>\n<p>이것은 익명 콜백 함수에서 this의 기본값이 특별히 유용하지 않기 때문에 굉장히 유용하지만,\nJavaScript 초보자에게 this가 이상하고 추론하기 어려운 개념이라는 인상을 줄 수 있습니다.</p>\n<p>당신이 sugary function 호출을 desugar된 <code class=\"language-text\">func.call(thisValue, ...args)</code>로 변환하는 기본적인 규칙을 이해한다면,\nJavaScript의 this를 큰 어려움 없이 다룰 수 있을 것입니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 526px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.222222222222214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABkklEQVQoz1WObYsSYRSG51f2qV3rS1TgytJC1Kd+zP6BsHVbtZaIQAKdF8xtQp1XxxlHnXFeHMfUK3wgYQ/cnHMu7nO4pZ+/rql3n3ArP+emd8ad8oIvWo1Gr0Kjd05DrvCpe87Hzhm3cuXE29oFTfWVuGn0ntGQn3LTeYP0Q77mTnlJS7mkKV/QVq741v9AS6nRVGqif+5WqXde01ZrNOWa8N1r7/mqvqUpVwVrqVXq398heV7A/9rvYOZHLOYrgunyxDlAWfCoJk5A4EePWDiLkUzTpCjWZFlKFC+xLJPJxMUwxqRZSpZnrJKYcD4jX2dkeUqSxHjeRChJVuL2+MM0DSTXsVnkJWa8Ybhc07dn9N053bGHk/5luCyI04w4iijLks1mQ5qm2JaNbVvkeS7YdrvFcRwk27ZF3Gi5wJtOmYczgiAgSRKRtCgKYT7u+/1e6JjK933CMBQPd7sdh8MB13WRDMMQw++HBzRNQ9NUVFVlMBigyDJjw8CyLIbDoUhw1B9dR1VU4R+NRieu6zr/AEUj7jo570oYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"this-image.png\"\n        title=\"this-image.png\"\n        src=\"/static/e3408aca3ea9687e43669d3e680f6f0c/2d7ab/this-image.png\"\n        srcset=\"/static/e3408aca3ea9687e43669d3e680f6f0c/e9ff0/this-image.png 180w,\n/static/e3408aca3ea9687e43669d3e680f6f0c/f21e7/this-image.png 360w,\n/static/e3408aca3ea9687e43669d3e680f6f0c/2d7ab/this-image.png 526w\"\n        sizes=\"(max-width: 526px) 100vw, 526px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"ps-내가-속인-것\" style=\"position:relative;\"><a href=\"#ps-%EB%82%B4%EA%B0%80-%EC%86%8D%EC%9D%B8-%EA%B2%83\" aria-label=\"ps 내가 속인 것 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PS: 내가 속인 것</h2>\n<p>몇몇 부분을 단순화해 표기한 부분이 있습니다.</p>\n<p>가장 주요한 부분은 <code class=\"language-text\">func.call</code>을 “원시적”이라고 부른 것일겁니다.\n실제로 규격에서는 <code class=\"language-text\">func.call</code> 및 <code class=\"language-text\">[obj.]func()</code> 모두에서 사용하는 원시값이 있습니다. (그리고 그 값은 내부적으로 <code class=\"language-text\">[[Call]]</code>이라고 불립니다.)</p>\n<p>하지만 func.call의 정의를 살펴봅시다:</p>\n<ol>\n<li>\n<p>IsCallable(func)가 false이면 TypeError 예외를 throw합니다.</p>\n</li>\n<li>\n<p>argList를 빈값(list)으로 합니다.</p>\n</li>\n<li>\n<p>이 메서드가 하나 이상의 인수로 호출된 경우, 인수를 arg1부터 우측으로 추가해 argList의 마지막 요소로 추가합니다.</p>\n</li>\n<li>\n<p>func의 내부 메서드 [[Call]]을 호출하고, thisArg를 this 값으로 제공하고, argList를 인수 목록으로 제공하여 결과를 반환합니다.</p>\n</li>\n</ol>\n<p>보시다시피, 이 정의는 본질적으로 기본적인 <code class=\"language-text\">[[Call]]</code> 동작에 대한 아주 간단한 JavaScript 언어 바인딩입니다.</p>\n<p>함수를 호출하는 정의를 살펴보면, 처음 일곱 단계가 thisValue와 argList를 설정하고,\n마지막 단계는 “func에서 내부 메서드 [[Call]]을 호출하여 thisValue를 this 값으로, argList를 인수 값으로 제공하고 결과를 반환한다”입니다.</p>\n<p>argList와 thisValue가 결정된 후에는 동일한 용어를 사용합니다.</p>\n<p>call을 primitive(원시적이라고)로 부르긴했지만, 본질적으로는 이 글의 첫 부분에서 규격을 이용한 부분과 거의 동일합니다.\n여기에서 다루지 않은 추가적인 경우들 (특히 with와 관련된 경우)도 있습니다.</p>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%ED%95%B5%EC%8B%AC-%EA%B8%B0%EB%B3%B8-%EC%9B%90%EB%A6%AC\">핵심 기본 원리</a></li>\n<li><a href=\"#%EA%B0%84%EB%8B%A8%ED%95%9C-%ED%95%A8%EC%88%98-%ED%98%B8%EC%B6%9C\">간단한 함수 호출</a></li>\n<li><a href=\"#%EB%A9%A4%EB%B2%84-%ED%95%A8%EC%88%98\">멤버 함수</a></li>\n<li><a href=\"#functionprototypebind-%EC%82%AC%EC%9A%A9\">Function.prototype.bind 사용</a></li>\n<li><a href=\"#jquery%EC%97%90-%EB%8C%80%ED%95%B4\">jQuery에 대해</a></li>\n<li><a href=\"#ps-%EB%82%B4%EA%B0%80-%EC%86%8D%EC%9D%B8-%EA%B2%83\">PS: 내가 속인 것</a></li>\n</ul>\n</div>","frontmatter":{"date":"April 09, 2023","title":"[번역] 자바스크립트 함수 호출과 \"this\" 이해하기","categories":"Javascript","author":"Bomdong","emoji":"💭"},"fields":{"slug":"/js-function-invocation-and-this/"}},"site":{"siteMetadata":{"siteUrl":"https://dev-bomdong.github.io","comments":{"utterances":{"repo":"dev-bomdong/dev-bomdong.github.io"}}}}},"pageContext":{"slug":"/functional-programming-refactoring/","nextSlug":"/functional-programming-concept/","prevSlug":"/js-function-invocation-and-this/"}},"staticQueryHashes":["1073350324","2009502679","2938748437"],"slicesMap":{}}